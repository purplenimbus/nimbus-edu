"use strict";angular.module("nimbusEduApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","siyfion.sfTypeahead","satellizer","chart.js","ngStorage","angular-linq","pusher-angular","angular-bind-html-compile"]).config(["$routeProvider","$locationProvider","$authProvider","apiConst","$sceDelegateProvider","ChartJsProvider","dashboardConst",function(a,b,c,d,e,f,g){f.setOptions({chartColors:g.chart.colors}),e.resourceUrlWhitelist(["self","https://nimbus-learning-api.herokuapp.com/**"]),c.baseUrl="https://nimbus-learning-api.herokuapp.com",c.loginUrl="/api/v1/login",a.when("/",{templateUrl:"views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard"}).when("/users/students",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"student",resolve:{usersData:["eduApi","$window","apiConst","$localStorage",function(a,b,c,d){var e=d.auth;return a.api("GET",e.tenant.id+"/users?paginate="+c.componentPagination+"&page=1&user_type=student").then(function(a){return console.log("usersData result",a),a.data})["catch"](function(a){console.log("usersData error",a),b.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/users/teachers",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"teacher",resolve:{usersData:["eduApi","$window","apiConst","$localStorage",function(a,b,c,d){var e=d.auth;return a.api("GET",e.tenant.id+"/users?paginate="+c.componentPagination+"&page=1&user_type=teacher").then(function(a){return console.log("usersData result",a),a.data})["catch"](function(a){console.log("usersData error",a),b.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/users/parents",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"parent",resolve:{usersData:["eduApi","$window","apiConst","$localStorage",function(a,b,c,d){var e=d.auth;return a.api("GET",e.tenant.id+"/users?paginate="+c.componentPagination+"&page=1&user_type=parent").then(function(a){return console.log("usersData result",a),a.data})["catch"](function(a){console.log("usersData error",a),b.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/users/other",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"other",resolve:{usersData:["eduApi","$window","apiConst","$localStorage",function(a,b,c,d){var e=d.auth;return a.api("GET",e.tenant.id+"/users?paginate="+c.componentPagination+"&page=1&user_type=other").then(function(a){return console.log("usersData result",a),a.data})["catch"](function(a){console.log("usersData error",a),b.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/profile/settings",{templateUrl:"views/account.html",controller:"AccountCtrl",controllerAs:"account"}).when("/inventory",{templateUrl:"views/inventory.html",controller:"InventoryCtrl",controllerAs:"inventory"}).when("/learning",{templateUrl:"views/learning.html",controller:"LearningCtrl",controllerAs:"learning"}).when("/learning/course/:id",{templateUrl:"views/course.html",controller:"CourseCtrl",controllerAs:"course",resolve:{}}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/learning/courses",{templateUrl:"views/courses.html",controller:"CoursesCtrl",controllerAs:"courses"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register",resolve:{services:["graphApi","$window","apiConst",function(a,b,c){return a.api("GET","services?paginate="+c.componentPagination+"&page=1").then(function(a){return a.data})["catch"](function(){b.UIkit.notification({message:"Couldnt get services",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl",controllerAs:"settings"}).when("/tools",{templateUrl:"views/tools.html",controller:"ToolsCtrl",controllerAs:"tools"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","$cookies","$http","$auth","$window","offcanvas",function(a,b,c,d,e,f,g){a.globals=c.get("auth")||{},a.globals&&e.isAuthenticated()&&(d.defaults.headers.common.Authorization="Bearer "+e.getToken());var h=[];a.$on("$routeChangeStart",function(){g.close(),a.showLoader=!0}),a.$on("$routeChangeSuccess",function(){h.push(b.$$path),a.showLoader=!1}),a.$on("$locationChangeStart",function(){var a=["login","register"],c=!1;angular.forEach(a,function(a){c=b.path()==="/"+a?!1:!0});var d=e.isAuthenticated();!d&&c&&b.path("/login")})}]).filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]),angular.module("nimbusEduApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("nimbusEduApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("nimbusEduApp").controller("DashboardCtrl",["$scope","settings","$route","$window","$localStorage","apiConst","courseService","$compile","uikit3",function(a,b,c,d,e,f,g,h,i){a.user=e.auth,a.dashboardSettings=b.getSettings("dashboard");var j="";j+='<table ng-if="source.type === \'table\'" class="uk-table-hover uk-table uk-table-middle uk-margin-remove">',j+="	<thead>",j+="		<tr>",j+='    		<th ng-repeat="(key , label) in list.data.data[0]" ng-if="getColumn(key).show">{{ getColumn(key).label }}</th>',j+="		</tr>",j+="	</thead>",j+='	<tbody ng-if="!loading">',j+='		<tr ng-repeat="row in list.data.data | filter:search:strict" ng-click="select(row)">',j+='			<td ng-repeat="(key,column) in row" ng-if="getColumn(key).show">',j+="				<span ng-if=\"key !== 'status'\">{{ column }}</span>",j+="				<span ng-if=\"key === 'status'\">{{ column.name }}</span>",j+="			</td>",j+="		</tr>",j+="	</tbody>",j+="</table>",a.tabs=[{name:"students",template:'<list source="tab.data.source" name="tab.name"></list>',data:{source:{type:"card",endpoint:a.user.tenant.id+"/users",query:{paginate:f.componentPagination,page:1,user_type:"student",course_grade_id:g.getClasses()[6].id},filters:[{type:"select",label:"Filter by Class",name:"course_grade_id",options:g.getClasses(),"default":g.getClasses()[6]}],display:[{icon:"thumbnails",label:"cards",name:"card",template:i.dataTable({name:"card"})}]}}},{name:"teachers",template:'<list source="tab.data.source" name="tab.name"></list>',data:{source:{type:"card",endpoint:a.user.tenant.id+"/users",query:{paginate:f.componentPagination,page:1,user_type:"teacher"},display:[{icon:"thumbnails",label:"cards",name:"card",template:i.dataTable({name:"card"})}]}}},{name:"parents",template:'<list source="tab.data.source" name="tab.name"></list>',data:{source:{type:"card",endpoint:a.user.tenant.id+"/users",query:{paginate:f.componentPagination,page:1,user_type:"parent"},display:[{icon:"thumbnails",label:"cards",name:"card",template:i.dataTable({name:"card"})}]}}},{name:"courses",template:'<list source="tab.data.source" name="tab.name"></list>',data:{source:{type:"table",endpoint:a.user.tenant.id+"/courses",query:{paginate:f.componentPagination,page:1,course_grade_id:g.getClasses()[6].id},filters:[{type:"select",label:"Filter by Class",name:"course_grade_id",options:g.getClasses(),"default":g.getClasses()[6]}],showColumns:["id","name","code","course_grade_id"],columns:[{label:"id",name:"id",show:!0},{label:"name",name:"name",show:!0},{label:"code",name:"code",show:!0},{label:"class",name:"course_grade_id",show:!0}],display:[{icon:"table",label:"table",name:"table",template:i.dataTable({name:"table"})}]}}},{name:"invoices",template:'<list source="tab.data.source" name="tab.name"></list>',data:{source:{type:"table",endpoint:a.user.tenant.id+"/billing",query:{paginate:f.componentPagination,page:1},showColumns:["id","student_id","status"],columns:[{label:"id",name:"id",show:!0},{label:"student id",name:"student_id",show:!0},{label:"status",name:"status",show:!0},{label:"created",name:"created_at",show:!0},{label:"term id",name:"term_id",show:!0}],display:[{icon:"table",label:"table",name:"table",template:i.dataTable({name:"table",info:"invoices",template:j})}]}}}]}]),angular.module("nimbusEduApp").directive("tasks",["modal","form","tasks","tasksConst","uikit3","$window","graphApi",function(a,b,c,d,e,f,g){return{templateUrl:"views/templates/tasks.html",restrict:"E",scope:!0,controller:["$scope","apiConst",function(c,h){c.widgetTitle="Tasks",c.tasks=[];var i=f.moment,j=i();c.search="";var k=!1;c.init=function(){c.loading=!0,g.api("GET",h.defaultTenantId+"/users/1/tasks?paginate="+h.widgetPagination+"&page=1").then(function(a){console.log("result",a),c.data=a.data,c.loading=!1})["catch"](function(a){console.log("error",a),f.UIkit.notification({message:"Couldnt get tasks",status:"danger",pos:"top-right",timeout:5e3}),c.loading=!1}),c.newAsset={deadline:{date:new Date(j.format())}},c.newAsset.time=c.newAsset.deadline.date,console.log("Scope newAsset",j.get("time")),k=new f.Bloodhound({datumTokenizer:function(a){return f.Bloodhound.tokenizers.whitespace(a.name)},queryTokenizer:f.Bloodhound.tokenizers.whitespace,remote:"http://ems.nimbus.com:8000/1/users/1/tasks"}),k.initialize(),console.log("init",k.ttAdapter()),c.tasksDataset={displayKey:"name",source:k.ttAdapter(),templates:{empty:["","No results were found ...",""].join("\n")}}},c.tasksOptions={displayKey:"name",minLength:2,highlight:!0,classNames:{dataset:"uk-dropdown"}},c.showAddTask=function(d){c.newAsset=d||{};var f,g,h,i,j,k;g=d?"Edit Task":"Add Task",i=d?"Edit":"Add",j=d?"pencil":"plus",k=d?'ng-click="saveTask(newAsset)"':'ng-click="addTask(newAsset)"',h='	<div class="uk-margin">',h+=e.button({cls:"uk-width-1-1 uk-margin-small-bottom uk-button-primary",icon:j,label:i,directive:k}),h+="	</div>",f={title:g,body:b.addTask(!0),footer:h},a.modal(f,c).then(function(a){c.modal=a})},c.addTask=function(a){console.log("addTask",i(a.deadline.date,"YYYY-MM-DD"),i(a.deadline.time,"hh:mm:ss")),c.tasks.push(a),c.newAsset={},c.modal.hide(),c.resetTypeAhead(),c.reset()},c.removeTask=function(a){console.log("removeTask",c.tasks[a]),c.tasks.splice(a,1)},c.completeTask=function(a){console.log("completeTask",c.tasks[a]),c.tasks[a].completed=!0},c.saveTask=function(a){console.log("saveTask",a),c.modal.hide(),c.reset()},c.resetTypeAhead=function(){k=new f.Bloodhound({datumTokenizer:function(a){return console.log("bloodhound d",a),f.Bloodhound.tokenizers.whitespace(a.name)},queryTokenizer:f.Bloodhound.tokenizers.whitespace,local:c.tasks}),k.initialize()},c.reset=function(){console.log("Scope Reset"),c.newAsset={},console.log("init",k)},c.statusTypes=d().statusTypes,console.log("Tasks $scope",c),c.selectAll=function(a,b){a.map(function(a){a.selected=angular.element(b.target).get(0).checked})},c.next=function(a){console.log("get page",a,c.data),c.loading=!0,g.api("GET",h.defaultTenantId+"/users/1/tasks?paginate="+h.widgetPagination+"&page="+a).then(function(a){c.data=a.data,k.initialize(!0),c.loading=!1})["catch"](function(a){console.log("graphApi error",a)})},c.prev=function(a){console.log("get page",a,c.data),c.loading=!0,g.api("GET",h.defaultTenantId+"/users/1/tasks?paginate="+h.widgetPagination+"&page="+a).then(function(a){c.data=a.data,k.initialize(!0),c.loading=!1})["catch"](function(a){console.log("graphApi error",a)})},c.init()}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").service("modal",["$window","uikit3","$q","$compile",function(a,b,c,d){this.modal=function(e,f){var g,h=c.defer();return angular.element("body").append(d(b.modal(e))(f)),g=a.UIkit.modal("#modal"),g.show(),angular.element("#modal").on({"show.uk.modal":function(){console.log("Modal is visible.")},"hide.uk.modal":function(){angular.element(this).remove(),angular.element("html").removeClass("uk-modal-page")}}),h.resolve(g),h.promise}}]),angular.module("nimbusEduApp").service("form",["uikit3",function(a){this.build=function(b,c){var d="";return d+=c?'<form action="javascript:void(0)">':"",b.forEach(function(b){switch(typeof b){case"object":b.type&&(d+=a[b.type](b.attrs?b.attrs:{}));break;default:d+=b}}),d+=c?"</form>":""},this.login=function(){var b="";return b+='<form class="uk-form-stacked">',b+='	<div class="uk-margin">',b+=a.inputIcon({model:"email",icon:"user",type:"text",placeholder:"email",required:!0}),b+="	</div>",b+='	<div class="uk-margin">',b+=a.inputIcon({model:"password",icon:"lock",type:"password",placeholder:"password",required:!0}),b+="	</div>",b+='	<div class="uk-margin">',b+=a.button({cls:"uk-width-1-1 uk-margin-small-bottom uk-button-primary",icon:"sign-in",label:"login",directive:'ng-click="login({ email:this.email , password: this.password },$event)"'}),b+="	</div>",b+="</form>"},this.addMedia=function(){var b="";return b+='<form class="uk-form-stacked">',b+='	<div class="uk-margin">',b+=a.inputIcon({model:"Title",icon:"user",type:"text",placeholder:"Title"}),b+="	</div>",b+='	<div class="uk-margin">',b+=a.select({directive:'ng-model="type"',options:""}),b+="	</div>",b+='	<div class="uk-margin">',b+=a.upload(),b+="	</div>",b+='	<div class="uk-margin">',b+=a.textarea({directive:'ng-model="description"',placeholder:"description"}),b+="	</div>",b+='	<div class="uk-margin">',b+=a.button({cls:"uk-width-1-1 uk-margin-small-bottom uk-button-primary",icon:"sign-in",label:"Add",directive:'ng-click="uploadData()"'}),b+="	</div>",b+="</form>"},this.addTask=function(b){var c="";return c+='<form class="uk-form-stacked">',c+='	<div class="uk-margin">',c+=a.inputIcon({model:"newAsset.name",icon:"user",type:"text",placeholder:"Name",required:!0}),c+="	</div>",c+='	<div class="uk-margin">',c+=a.textarea({directive:'ng-model="description"',placeholder:"Description",model:"newAsset.description"}),c+="	</div>",c+='	<div class="uk-margin uk-grid-small uk-child-width-1-2" uk-grid>',c+='		<div class="">',c+=a.input({model:"newAsset.deadline.date",type:"date",icon:"calendar",placeholder:"Deadline Date"}),c+="		</div>",c+='		<div class="">',c+=a.input({model:"newAsset.deadline.time",type:"time",icon:"clock",placeholder:"Deadline Time"}),c+="		</div>",c+="	</div>",c+='	<div class="uk-margin">',c+=a.select({options:"statusTypes",directive:'ng-model="newAsset.status"'}),c+="	</div>",c+="</form>"},this.addRequest=function(b){var c="";return c+=a.table(b,"request")},this.editCourse=function(b){var c="";return c+='<spinner ng-if="saving"></spinner>',c+='<form ng-if="!saving">',c+='	<div class="uk-margin uk-grid-small" uk-grid>',c+='		<div class="uk-width-1-1">',c+=a.inputIcon({model:b+".name",icon:"user",type:"text",required:!0,placeholder:"Course Title",cls:"uk-text-capitalize"}),c+="		</div>",c+="	</div>",c+='	<div class="uk-margin typeahead" ng-if="authorized && !'+b+'.instructor.id">',c+=a.typeahead({directive:'datasets="instructorsDataSet" options="instructorsOptions" ng-model="'+b+'.instructor" sf-typeahead',type:"text",required:!0,cls:"uk-input uk-search-input uk-width-1-1 typeahead uk-text-capitalize",placeholder:"Instructor"}),c+="	</div>",c+='	<div class="uk-margin typeahead">',c+='		<div class="uk-form-label uk-text-muted uk-text-uppercase uk-margin-bottom uk-clearfix">',c+='			<label class="uk-float-left">instructor</label>',c+='			<div class="uk-float-right" ng-if="'+b+'.instructor && authorized"><a ng-click="'+b+'.instructor = \'\'" class="uk-text-danger uk-text-uppercase">remove</a></div>',c+="		</div>",c+='		<div class="uk-placeholder uk-padding-small" ng-class="!'+b+".instructor.id ? 'uk-text-center' : ''\">",c+='			<span ng-if="!'+b+'.instructor.id" class="uk-text-small uk-text-muted">{{ \'no instructor assigned\' | uppercase }}</span>',c+='			<user-pill name="true" user="'+b+'.instructor" ng-if="'+b+'.instructor.id"></user-pill>',c+="		</div>",c+="	</div>",c+='	<div class="uk-margin">',c+=a.textarea({model:b+".meta.comments",placeholder:"Comments",label:!1}),c+="	</div>",c+="</form>"}}]),angular.module("nimbusEduApp").service("offcanvas",["$window","uikit3","$compile",function(a,b,c){this.offcanvas=function(b){return this.offcanvas.type=b,a.UIkit.offcanvas("#side-menu")},angular.element("#side-menu").on("hidden",function(){}).on("shown",function(){}),this.open=function(d,e){angular.element("#uk-offcanvas-content").append(c(b.offcanvas(d))(e)),a.UIkit.offcanvas("#"+d.el).show(),angular.element("#"+d.el).on("hidden",function(){e.offCanvasOpen=!1,angular.element(this).remove()})},this.close=function(){a.UIkit.offcanvas(".uk-offcanvas").hide()}}]),angular.module("nimbusEduApp").controller("TasksCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("nimbusEduApp").service("tasks",["$http",function(a){this.endpoint="http://localhost:8000",this.getTasks=function(b){return a({method:b.method,url:this.endpoint+"/"+b.companyId+"/"+b.userId+"/tasks"})},this.getCompanyTasks=function(b){return a({method:b.method,url:this.endpoint+"/"+b.companyId+"/tasks"})}}]),angular.module("nimbusEduApp").controller("NavCtrl",["$scope","offcanvas","modal","form","settings","$route","$rootScope","validation","$auth","auth","$location","breadcrumbs","$localStorage","notifications","eduApiConst",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){a.route=f,a.offcanvas=b.offcanvas,a.user=m.auth,a.logout=function(){b.close(),i.logout(),j.clearUser(a),k.path("/login")},a.showSettings=function(b){var d,f="";f+='<ul class="uk-list uk-list-divider">',f+='	<li ng-repeat="(key , setting) in settings" class="uk-clearfix">',f+='	<div class="uk-align-left uk-margin-remove">',f+='		<p class="uk-margin-remove">{{ key | uppercase }}</p>',f+="	</div>",f+='	<div class="uk-align-right">',f+='		<input class="uk-checkbox" type="checkbox" ng-model="setting.display" ng-disabled="setting.disabled">',f+="	</div>",f+="	</li>",f+="</ul>",d={title:"Settings",body:f,footer:!1},a.settings=e.getSettings(b),c.modal(d,a).then(function(b){a.modal=b})},a.navSettings=e.getSettings("nav"),a.breadcrumbs=l.parse(k.path()),a.auth=i,g.user=m.auth,a.user.access_level.id>=3&&n.pusher().subscribe("private-App.Tenant."+a.user.tenant.id).bind(o.pusher.defaultEventName,function(a){console.log("notification",a)})}]),angular.module("nimbusEduApp").service("settings",function(){this.settings={dashboard:{tasks:{display:!1,disabled:!0},reports:{display:!1,disabled:!1},activities:{display:!1,disabled:!0},employees:{display:!0,disabled:!1},requests:{display:!1,disabled:!0},myCourses:{display:!0,disabled:!1}},learningDashboard:{myCourses:{display:!0,disabled:!1},activities:{display:!1,disabled:!0}},nav:{dashboard:{display:!0,disabled:!1,icon:"home",url:"",access_level:1},learning:{display:!0,disabled:!1,icon:"laptop",url:"learning",access_level:3,children:{courses:{display:!0,disabled:!1,icon:"thumbnails",url:"learning/courses",access_level:3}}}}},this.getSettings=function(a){return this.settings[a]}}),angular.module("nimbusEduApp").constant("tasksConst",function(){return{statusTypes:[{id:1,name:"in progress"},{id:2,name:"completed"},{id:3,name:"unassigned"},{id:4,name:"deleted"}]}}),angular.module("nimbusEduApp").service("moment",function(){}),angular.module("nimbusEduApp").service("validation",["$q",function(a){return{validate:function(b){var c=a.defer(),d=[],e=angular.element(b),f=0,g=e.find("input").length;return e.find("input").each(function(){var a=angular.element(this);a[0].required?a.val()?(a.removeClass("uk-form-success").removeClass("uk-form-danger").addClass("uk-form-success"),d.push({name:a[0].name,value:a.val(),validated:!0}),f++):(a.removeClass("uk-form-success").removeClass("uk-form-danger").addClass("uk-form-danger"),d.push({name:a[0].name,value:a.val(),validated:!1})):(a.parent().removeClass("uk-form-danger").addClass("uk-form-success"),d.push({name:a[0].name,value:a.val(),validated:!0}))}),f===g?c.resolve({valid:!0,form:b}):c.resolve({valid:!1,form:b}),c.promise}}}]),angular.module("nimbusEduApp").service("auth",["$q","$http","$rootScope","$localStorage",function(a,b,c,d){return{clearUser:function(a){delete d.auth,delete c.user,delete b.defaults.headers.common.Authorization,delete a.user},authorized:function(a,b,c){var e=d.auth;return e.access_level.id>=3||c.id===a[b].id}}}]),angular.module("nimbusEduApp").directive("requests",["modal","form","tasks","tasksConst","uikit3",function(a,b,c,d,e){return{templateUrl:"views/templates/requests.html",restrict:"E",scope:!0,controller:["$scope",function(c){c.widgetTitle="Requests",c.selected=[],c.init=function(){c.requests=[{name:"Provisions needed for the secondary school",items:[{description:"Carton of Juice",quantity:10,cost:2},{description:"Crates of Beer",quantity:5,cost:10},{description:"Bread",quantity:12,cost:1.25},{description:"Diesel",quantity:1,cost:150}]},{name:"two",items:[]},{name:"three",items:[]},{name:"four",items:[]}]},c.showAddRequest=function(d){d?c.newAsset=d:c.newAsset={items:[{description:"",quantity:1,cost:0}]};var f,g,h,i,j,k;g=d?"Edit Request":"Add Request",i=d?"Edit":"Submit",j=d?"pencil":"plus",k=d?'ng-click="submitRequest(newAsset)"':'ng-click="addRequest(newAsset)"',h='	<div class="uk-margin">',h+=e.button({cls:"uk-margin-small-bottom uk-button-primary",icon:j,label:i,directive:k}),h+=e.button({cls:"uk-margin-small-bottom uk-button-default",icon:"cloud-upload",label:"save request",directive:'ng-click="saveRequest(newAsset)"'}),h+="	</div>",f={title:g,body:b.addRequest(c.newAsset.items),footer:h,wrapperCls:"uk-modal-container"},a.modal(f,c).then(function(a){c.modal=a})},c.addRow=function(){c.newAsset.items.push({description:"",quantity:1}),c.calculateRequestTotal()},c.removeRow=function(a){c.newAsset.items.splice(a,1),c.calculateRequestTotal()},c.addRequest=function(a){console.log("addRequest",a),c.requests.push(a),c.newAsset={},c.modal.hide(),c.reset()},c.removeRequest=function(a){console.log("removeRequest",c.requests[a]),c.requests.splice(a,1)},c.completeRequest=function(a){console.log("completeRequest",c.requests[a]),c.requests[a].completed=!0},c.saveRequest=function(a){console.log("saveRequest",a),c.modal.hide(),c.reset()},c.reset=function(){console.log("Scope Reset"),c.newAsset={}},c.selectAll=function(a,b){var d=[];a.map(function(a,c){a.selected=angular.element(b.target).get(0).checked,d.push(c)}),c.selected=d},c.completeSelected=function(a){console.log("completeSelected",a)},c.removeSelected=function(a){console.log("removeSelected",a)},c.selectRequest=function(a,b){console.log("selectRequest",angular.element(b.target).get(0).checked);var d=angular.element(b.target).get(0).checked;d?c.selected.push(a):c.selected.splice(a,1)},c.calculateRequestTotal=function(){var a=0;c.newAsset.items.map(function(b){a+=b.cost*b.quantity}),c.requestTotal=a},c.init()}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").controller("UsersCtrl",["$scope","$window","usersData","eduApi","$localStorage","$route",function(a,b,c,d,e,f){a.defaultPagination=5,a.usersData=c;var g=f.current.$$route.controllerAs||!1;console.log("data",c,f,g),a.user=e.auth,a.usersList=c.data;var h=new b.Bloodhound({datumTokenizer:function(a){return console.log("bloodhound d",a),b.Bloodhound.tokenizers.whitespace(a.fname)},queryTokenizer:b.Bloodhound.tokenizers.whitespace,remote:"http://edu.nimbus.com:7070/"+a.user.tenant.id+"/users"});h.initialize(),a.userDataset={name:"users",display:"firsname",source:h.ttAdapter(),templates:{suggestion:function(a){var b='<article class="uk-comment uk-card">';return b+='		<header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom uk-grid" uk-grid="">',b+='			<div class="uk-width-expand">',b+='				<h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset ng-binding uk-text-small" href="#"> '+a.fname+" "+a.lname+"</a></h4>",b+='				<ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute">',b+="				</ul>",b+="			</div>",b+="		</header>",b+='		<div class="uk-comment-footer"></div>',b+="	</article>"},empty:["","No results were found ...",""].join("\n")}},a.userOptions={displayKey:"fname",minLength:2,highlight:!0,classNames:{dataset:"uk-dropdown"}},a.next=function(c){a.loading=!0,d.api("GET",a.user.tenant.id+"/users?paginate="+a.defaultPagination+"&page="+c+(g?"&user_type="+g:"")).then(function(b){console.log("next page:"+c,b.data.data),a.usersData=b.data;var d=a.usersList.concat(b.data.data);a.usersList=d,h.initialize(!0),a.loading=!1})["catch"](function(a){console.log("eduApi error",a),b.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3})})},a.edit=function(a){console.log("edit",a)},a.view=function(a){console.log("view",a)},console.log("UsersCtrl",a)}]),angular.module("nimbusEduApp").controller("AccountCtrl",["$scope","$window","eduApi","$route","apiConst","sweetAlert","userService","$localStorage",function(a,b,c,d,e,f,g,h){a.init=function(){a.profileData=h.auth},a.save=function(b){a.loading=!0,console.log("sending data",b),g.saveUser(b).then(function(b){a.loading=!1,f.alert({title:"Profile Saved",text:b.data.message,icon:"success",buttons:{confirm:f.button({text:"ok"})}}).then(function(){g.updateLocalUser(b.data),d.reload()})})["catch"](function(b){a.loading=!1,f.alert({title:"Something's Wrong",text:b.data.message,icon:"error",buttons:{confirm:f.button({text:"ok"})}})})};var i=new b.Bloodhound({datumTokenizer:function(a){return b.Bloodhound.tokenizers.whitespace(a.fname)},queryTokenizer:b.Bloodhound.tokenizers.whitespace,remote:"http://graph.nimbus.com:8000/v1/services"});a.search=null,i.initialize(),a.serviceDataset={name:"services",display:"name",source:i.ttAdapter(),limit:10,templates:{suggestion:function(a){var b='<article class="uk-comment uk-card">';return b+='		<header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom uk-grid" uk-grid="">',b+='			<div class="uk-width-expand">',b+='				<h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset ng-binding uk-text-small uk-text-capitalize" ng-href="#!/'+a.tenant_id+"/profile/"+a.id+'"> '+a.fname+" "+a.lname+"</a></h4>",b+='				<ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute">',b+="				</ul>",b+="			</div>",b+="		</header>",b+='		<div class="uk-comment-footer"></div>',b+="	</article>"},empty:["","No results were found ...",""].join("\n")},async:!0},a.serviceOptions={displayKey:"name",minLength:2,highlight:!0,classNames:{dataset:"uk-dropdown"}},a.init()}]),angular.module("nimbusEduApp").controller("InventoryCtrl",["$scope","$window",function(a,b){a.inventoryData=[{sku:"0000-0001",description:"crates of fanta",quantity:5,price:1e3},{sku:"0000-0002",description:"crates of eggs",quantity:5,price:1500}],a.$on("$routeChangeStart",function(){b.UIkit.offcanvas("#side-menu").hide()})}]),angular.module("nimbusEduApp").directive("reports",function(){return{templateUrl:"views/templates/reports.html",restrict:"E",scope:!0,controller:["$scope",function(a){a.widgetTitle="reports"}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}),angular.module("nimbusEduApp").directive("users",["uikit3",function(a){var b='<spinner ng-if="loading"></spinner>';return b+='<table datatable="ng" class="uk-table-hover uk-table uk-table uk-table-divider uk-table-small" ng-if="!loading">',b+="	<thead>",b+="		<tr>",b+="    		<th>{{type}}</th>",b+="    		<th>#</th>",b+="		</tr>",b+="	</thead>",b+="	<tbody>",b+='		<tr ng-repeat="item in list.data">',b+='		<td ng-click="select(item)"><user-pill user="item" name="true" labe="user.user_type"></user-pill></td>',b+="		<td></td>",b+="		</tr>",b+="	</tbody>",b+="</table>",{template:a.card({body:b,classes:{card:"uk-padding-remove",body:"uk-card-default uk-padding-remove",header:"uk-padding-small"}}),restrict:"E",scope:{type:"=type",source:"=source"},controller:["$scope","eduApi","$window","apiConst",function(a,b,c,d){a.init=function(){a.loading=!0,b.api("GET",a.source+"&paginate="+d.componentPagination+"&page=1").then(function(b){console.log("eduApi "+a.type+" result",b),a.list=b.data,a.loading=!1})["catch"](function(b){console.log("eduApi "+a.type+" error",b),a.loading=!1})},a.init(),a.select=function(b){a.$emit("selected",b)}}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").constant("apiConst",{componentPagination:10,widgetPagination:5,defaultTenantId:3220,filterCount:[{name:5,id:5},{name:10,id:10},{name:20,id:20},{name:50,id:50},{name:100,id:100}]}),angular.module("nimbusEduApp").controller("LearningCtrl",["$scope","$window","settings",function(a,b,c){a.dashboardSettings=c.getSettings("learningDashboard"),a.myCourses=[{name:"Physics",grade:0},{name:"Chemistry",grade:0},{name:"Biology",grade:0}],a.activities=[{user:{image:"https://getuikit.com/docs/images/avatar.jpg",fname:"Anthony",lname:"Akpan"},meta:{action:{type:"registration",verb:"registered for"},subject:{name:"Biology",url:"#",description:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",featuredImage:"https://cdn.colorlib.com/wp/wp-content/uploads/sites/2/restaurant-website-templates-506x344.jpg",images:[],type:"course"}}}],a.$on("$routeChangeStart",function(){b.UIkit.offcanvas("#side-menu").hide()})}]),angular.module("nimbusEduApp").controller("CourseCtrl",["$scope","$window","grades","eduApi","apiConst","modal","courseService","$localStorage","$route","sweetAlert","offcanvas","card","auth","importService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.init=function(b){a.loading=!0,a.saving=!1,a.user=h.auth,g.initCourse(a.user,a,b).then(function(b){a.courseData=b.data,a.courseData&&(a.course=g.savedCourse||a.courseData.data[0].course,a.course&&(a.pageTitle=a.course.name,a.pageTitle+=a.course.code?" | "+a.course.code:""),a.authorized=m.authorized(a.course,"instructor",a.course.instructor)),a.loading=!1})["catch"](function(b){console.log("courseService error",b),a.loading=!1,j.alert({title:"Somethings wrong!",icon:"error",text:b.data||"error",buttons:{confirm:j.button({text:"ok"})}})})},a.getGrade=function(b){return b?c.getGrade(c.getTotal(b,a.course.meta.course_schema)):void 0},a.getTotal=function(b){return b?c.getTotal(b,a.course.meta.course_schema):void 0},a.loadOutline=function(){a.loadingOutline=!0,a.courseData?d.api("GET",a.user.tenant.id+"/lessons?course_id="+a.courseData.data[0].course.id+"&paginate="+e.componentPagination+"&page=1").then(function(b){console.log("outline loaded",b),b.data.length&&b.data.data?a.outline=b.data.data:a.outlineMessage=b.statusText?b.statusText:"No Data",a.loadingOutline=!1})["catch"](function(b){a.outlineMessage=b.statusText?b.statusText:"Error",a.loadingOutline=!0}):a.outlineMessage="No Course Data"},a.save=function(b,c){a.saving=!0;var d=b.id||!1,e=!1;b.instructor_id=b.instructor.id||!1,e=g.trim(b,["grade","instructor","uuid","updated_at","created_at","code","id"]),console.log("save data post",b,c),g.saveCourse(a.user,d,e).then(function(){a.saving=!1,a.saved=!0,k.close(),i.reload()})["catch"](function(b){a.saving=!1,a.error=b})},a.edit=function(b){a.getSchema=g.getSchema(b.meta.course_schema),a.classes=g.getClasses(),k.open({body:l.type("course","course",a,!0),flip:!0,el:"offcanvas"+b.id},a)},a.upload=function(b){var c=[b.map(function(a){return{id:a.id||"",meta:a.meta||!1}})];a.saving=!0,n["import"](a.user,"results",c).then(function(b){console.log("upload result",b),a.saving=!1,a.saved=!0})["catch"](function(b){console.log("upload error",b),a.saving=!1,a.error=b})},a.next=function(c){a.paginate=!0,g.initCourse(a.user,a,{page:c,course_id:i.current.params.id,paginate:10}).then(function(b){b.data.data=a.courseData.data.concat(b.data.data),a.courseData=b.data,a.paginate=!1})["catch"](function(c){console.log("eduApi error",c),b.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3}),a.paginate=!1})},angular.element(".uk-switcher").on({
show:function(b){switch(angular.element(b.target).get(0).dataset.tab){case"outline":a.outline||a.loadOutline()}}}),a.init({course_id:i.current.params.id,paginate:10}),console.log("course init",a,g)}]),angular.module("nimbusEduApp").controller("LoginCtrl",["$scope","$route","$rootScope","validation","$auth","auth","$window","$location","$http","userService",function(a,b,c,d,e,f,g,h,i,j){e.isAuthenticated||f.clearUser(),a.signin=function(b,c){a.loginLoading=!0;var f={email:b.email,password:b.password},g=angular.element(c.currentTarget).parents()[1];d.validate(g).then(function(b){b.valid?e.login(f).then(function(b){a.loginLoading=!1,console.log("Data",b,h),j.updateLocalUser(b.data.user),h.path("/")})["catch"](function(b){a.loginLoading=!1,console.log("Login Error",b),a.loginError=b.data}):console.log(b)})},a.authenticate=function(d){e.authenticate(d).then(function(d){console.log("Auth Data",d),a.authLoading=!1,c.user={},a.closeModal(),b.reload()})["catch"](function(){a.authLoading=!1})}}]),angular.module("nimbusEduApp").controller("ProfileCtrl",["$scope","$window","$route","graphApi","modal","$localStorage",function(a,b,c,d,e,f){a.init=function(){a.profileData=f.auth,a.initiated=!0},a.initiated||(a.init(),console.log("profileData",a.profileData)),a.next=function(e){a.loading=!0;var f=c.current.params;d.api("GET",f.tenant_id+"/activities?user_id="+f.user_id+"&page="+e).then(function(b){console.log("next page:"+e,b.data.data),a.profileData=b.data,a.loading=!1})["catch"](function(a){console.log("graphApi error",a),b.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3})})},a.modal=e,a.$on("$routeChangeStart",function(){b.UIkit.offcanvas("#side-menu").hide()})}]),angular.module("nimbusEduApp").directive("myCourses",["uikit3",function(a){var b="";return b+="<div>",b+='   <spinner ng-if="loading"></spinner>',b+='   <ul ng-if="!loading" class="uk-list uk-width-1-1 uk-margin-remove uk-list-divider">',b+='   	<li ng-repeat="registration in registrations" class="uk-clear-fix">',b+='		<div class="uk-float-left">',b+='		 	<p class="uk-margin-remove uk-text-primary uk-text-capitalize">{{ registration.course.name }} <span class="uk-text-muted uk-text-uppercase">{{ registration.course.code }}</span></p>',b+="   	</div>",b+='   	<div class="uk-float-right">',b+='     		<span ng-if="getTotal(registration) !== false" class="uk-margin-remove uk-text-{{getGrade(registration).className}}">{{ getTotal(registration) }}</span>',b+="   	</div>",b+="		</li>",b+="	 </ul>",b+="</div>",{template:a.card({header:'<user-pill ng-if="heading" user="user" label="label" name="true" class="uk-margin-remove"></user-pill>',body:b,classes:{card:"uk-padding-remove",header:"uk-padding-small",body:"uk-padding-small uk-card-default"}}),restrict:"E",scope:{user:"=user",heading:"=heading"},controller:["$scope","eduApi","apiConst","grades",function(a,b,c,d){a.label="",a.getTotal=function(a){return a.meta?d.getTotal(a.meta.grades,a.course.meta.course_schema):!1},a.getGrade=function(a){return a.meta?d.getGrade(d.getTotal(a.meta.grades,a.course.meta.course_schema)):!1},a.init=function(){a.loading=!0,a.error=!1,b.api("GET",a.user.tenant.id+"/registrations?user_id="+a.user.id).then(function(b){a.registrations=b.data,a.loading=!1})["catch"](function(b){console.log("eduApi course error",b),a.error=b.statusText,a.loading=!1})},a.init(),a.$on("reload",function(){console.log("reload mycourses"),a.init()}),console.log("myCourses",a)}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").directive("activityFeed",function(){return{templateUrl:"views/templates/activityFeed.html",restrict:"E",scope:!0,controller:["$scope",function(a){a.widgetTitle="Activities"}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}),angular.module("nimbusEduApp").service("grades",function(){return{getGrade:function(a){var b={};return a>=90?(b.grade="A",b.className="success"):a>=70&&89>=a?(b.grade="B",b.className="primary"):a>=50&&69>=a?(b.grade="C",b.className="muted"):a>=45&&49>=a?(b.grade="D",b.className="muted"):a>=40&&44>=a?(b.grade="E",b.className="warning"):(b.grade="F",b.className="danger"),b},getTotal:function(a,b){var c=0;return angular.forEach(b,function(b,d){c+=a[d]}),c},getAverage:function(a){var b=0,c=this;return angular.forEach(a.registrations,function(d){b+=c.getTotal(d.meta.grades,a.meta.course_schema)}),Math.ceil(b/a.registrations.length)}}}),angular.module("nimbusEduApp").directive("courses",function(){return{templateUrl:"views/templates/courses.html",restrict:"E",scope:!0,controller:["$scope",function(a){a.widgetTitle="Courses"}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}),angular.module("nimbusEduApp").controller("CoursesCtrl",["$scope","grades","courseService","modal","form","uikit3","eduApi","$localStorage","apiConst","$window","offcanvas","card","sweetAlert","auth","$route",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){a.courseAverage=function(a){return b.getAverage(a)},a.courseGrade=function(a){return b.getGrade(b.getAverage(a))},a.createCourse=function(){var b="";b+='<div class="uk-clearfix uk-margin-bottom">',b+='	<div class="uk-float-left">',b+='<p class="uk-button uk-button-text title uk-text-capitalize uk-text-bold uk-margin-remove">Create Course</p>',b+="	</div>",b+='	<div class="uk-float-right">',b+=f.button({directive:'ng-click="save(asset)"',cls:"uk-button-primary uk-button-small",label:"Save"}),b+=f.button({directive:'ng-click="modal.hide()"',cls:"uk-button-danger uk-button-small",label:"Close"}),b+="	</div>",b+="</div>";var h={title:b,type:"full",body:e.editCourse(a)};a.createCourseInit||c.initTypeAhead(a,[{name:"subjects",display:"name",endPoint:g.apiEndPoint+"subjects"},{name:"instructors",display:"firstname",endPoint:g.apiEndPoint+a.user.tenant.id+"/users?user_type=teacher"}]),console.log("$scope createCourse",a.asset),d.modal(h,a).then(function(b){a.modal=b,a.createCourseInit=!0})},a.save=function(b){console.log("save course",b),a.saving=!0;var d=b.id||!1,e=!1;b.instructor_id=b.instructor.id||!1,e=c.trim(b,["grade","instructor","uuid","updated_at","created_at","code","id"]),console.log("save data post",b),c.saveCourse(a.user,d,e).then(function(){a.saving=!1,a.saved=!0,k.close(),o.reload()})["catch"](function(b){a.saving=!1,a.error=b})},a.next=function(b){a.loading=!0,c.getCourses(a.user,{page:b,course_grade_id:a.searchFilter.id}).then(function(b){b.data.data=a.coursesList.data.concat(b.data.data),a.coursesList=b.data,a.loading=!1})["catch"](function(b){console.log("eduApi error",b),j.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3}),a.loading=!1})},a.view=function(b,c,d,e){a.selected=b,k.open({title:!1,body:l.type(c,"selected",a,d),flip:!0,el:"offcanvas"+(b.id||e)},a),a.offCanvasOpen=!0,console.log(c+" card",a,b)},a.init=function(b,d){a.loading=!0,a.user=h.auth,a.showAdvanced=!1,a.createCourseInit=!1,a.offCanvasOpen=!1,a.filter={courseGrade:{options:c.getClasses(),label:"filter by class"},assigned:{value:!1,label:"assigned"}},c.getCourses(a.user,{page:b,course_grade_id:d}).then(function(b){if(a.coursesList=b.data,a.loading=!1,a.coursesList&&a.coursesList.data){var d=a.coursesList.data[0];a.getSchema=c.getSchema(d.meta.course_schema),a.authorized=n.authorized(d,"instructor",d.instructor)}})["catch"](function(b){console.log("courses init error ",b),a.loading=!1,m.alert({title:"Something's Wrong",text:b,icon:"error",buttons:{confirm:m.button({text:"ok"})}})})},a.$on("searchFilter",function(b,c){console.log("searchFilter",c),a.coursesList=[],a.searchFilter=c,a.init(1,a.searchFilter.id)}),a.searchFilter=c.getClasses()[0],a.init(1,a.searchFilter.id)}]),angular.module("nimbusEduApp").controller("RegisterCtrl",["$scope","$window","services","graphApi","$location",function(a,b,c,d,e){a.registration={meta:{}},console.log("services",c),a.services=c.data,a.cart=[],a.total=0,a.selectService=function(){a.cart=[],angular.forEach(a.services,function(b){b.selected&&a.cart.push(b)}),a.calculateBill()},a.calculateBill=function(){a.total=0,a.cart.length&&angular.forEach(a.cart,function(b){a.total+=b.meta.cost})},a.registerUser=function(c){a.loading=!0,d.api("POST","tenants",c).then(function(c){console.log("registration result",c),a.loading=!1,a.errors=!1,b.UIkit.notification({message:"<span uk-icon='icon: check'></span> "+c.statusText,status:"primary",pos:"top-right",timeout:5e3}),e.path("/login").search("firstLogin",!0)})["catch"](function(c){a.errors=c.data.errors,a.loading=!1,b.UIkit.notification({message:c.data.message,status:"primary",pos:"top-right",timeout:5e3})})},a.completeOrder=function(a){console.log("registration data",a)}}]),angular.module("nimbusEduApp").service("courseService",["modal","form","uikit3","$window","eduApi","$localStorage","apiConst","queryString",function(a,b,c,d,e,f,g,h){this.savedCourse=!1,this.initTypeAhead=function(a,b){b.forEach(function(b){var c=b.name+"List",e=b.name+"DataSet",f=b.name+"Options";a[c]=new d.Bloodhound({datumTokenizer:function(a){return d.Bloodhound.tokenizers.whitespace(a[b.display])},queryTokenizer:d.Bloodhound.tokenizers.whitespace,prefetch:b.endPoint,cache:!1}),a[c].initialize(!0),a[e]={name:b.name||"",display:b.display||"",source:a[c].ttAdapter()||!1,limit:b.limit||10,templates:{suggestion:b.callback,empty:["","No results were found ...",""].join("\n")},async:!0},a[f]={displayKey:b.display||"",minLength:b.minLength||2,highlight:!0,hint:!0,classNames:{dataset:"uk-list uk-list-divider uk-dropdown uk-padding-small"}}})},this.saveCourse=function(a,b,c,d){return console.log("saveCourse",c,b,d),e.api("POST",a.tenant.id+"/courses/update/"+(b||"")+(d?h.objectToQuerystring(d):""),c)},this.initCourse=function(a,b,c){return b.loadingHome=!0,e.api("GET",a.tenant.id+"/registrations"+h.objectToQuerystring(c))},this.getClasses=function(a){var b=[{id:1,name:"primary 1"},{id:2,name:"primary 2"},{id:3,name:"primary 3"},{id:4,name:"primary 4"},{id:5,name:"primary 5"},{id:6,name:"primary 6"},{id:7,name:"JS 1"},{id:8,name:"JS 2"},{id:9,name:"JS 3"},{id:10,name:"SS 1"},{id:11,name:"SS 2"},{id:12,name:"SS 3"},{id:13,name:"a level"}];if(a){var c=b.find(function(b){return b.id===parseInt(a)});return c}return b},this.getCourses=function(a,b){return"object"==typeof b&&(b.paginate=g.widgetPagination),e.api("GET",a.tenant.id+"/courses"+h.objectToQuerystring(b))},this.getSchema=function(a){return Object.keys(a)},this.trim=function(a,b){return b.forEach(function(b){a[b]&&delete a[b]}),a}}]),angular.module("nimbusEduApp").directive("userPill",function(){return{scope:{user:"=user",label:"=label",showName:"=name"},controller:["$scope","format",function(a,b){a.widgetTitle=function(a){return b.widgetTitle(a)}}],template:function(){var a='<div class="uk-grid-small uk-flex-middle" uk-grid>';return a+="<div ng-class=\"showName ? 'uk-width-auto' : ''\" class=\"\">",a+='<img ng-if="user.image" class="uk-comment-avatar uk-preserve-width uk-border-circle" src="{{user.image}}" width="40" alt="{{ user.firstname }} {{ user.lastname }}" title="{{ user.firstname }} {{ user.lastname }}"/>',a+='<letter-thumb ng-if="!user.image" user="user"></letter-thumb>',a+="</div>",a+='<div class="uk-width-expand" ng-if="showName">',a+='<p ng-if="user" class="uk-text-capitalize title uk-margin-remove">{{ user.firstname }} {{ user.lastname }}</p>',a+='<p ng-if="label" class="uk-text-meta uk-margin-remove-top uk-text-small uk-text-muted uk-text-uppercase">{{ label }}</p>',a+="</div>",a+="</div>"},restrict:"E",link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}),angular.module("nimbusEduApp").service("format",["courseService",function(a){return{widgetTitle:function(a){return a+"'s"},userMeta:function(b){var c=[];return b.user_type.name&&c.push(b.user_type.name),b.meta.course_grade_id&&c.push(a.getClasses(b.meta.course_grade_id).name),c.join(" | ")}}}]),angular.module("nimbusEduApp").directive("studentList",["uikit3",function(a){var b="",c="",d="";return c+='<div class="uk-align-left uk-margin-remove uk-width-2-3">',c+="	<a ",c+='	class="title uk-margin-remove uk-link-reset" ',c+='	ng-click="route(course)">',c+='	<user-pill user="course.instructor" label="course.code" name="true"></user-pill>',c+="	</a>",c+="</div>",c+='<div class="uk-align-right">',c+='	<ul class="uk-iconnav toolbar">',c+='		<li ng-if="!loading"><a ng-click="init()" uk-icon="icon: refresh"></a></li>',c+="	</ul>",c+="</div>",d+='<div class="uk-card-body uk-overflow-auto uk-padding-remove">',d+='<spinner ng-if="loading"></spinner>',d+='<div ng-if="!students && !loading" class="uk-margin-remove uk-placeholder uk-text-center uk-text-capitalize uk-text-muted">no students found</div>',d+='<div ng-if="!list && !loading" uk-grid><user-pill user="student.user" name="false" ng-repeat="student in students" ng-if="!loading && students"></user-pill></div>',d+='<table class="uk-table uk-table-hover uk-table-middle uk-table-small" ng-if="!loading && students && list">',d+="	<thead>",d+="		<tr>",d+='			<th class="uk-table-small">Name</th>',d+='			<th class="uk-table-shrink uk-text-small">Grade</th>',d+="		</tr>",d+="	</thead>",d+="	<tbody>",d+='		<tr ng-repeat="student in students">',d+='			<td class="uk-table-link"><user-pill user="student.user" name="true"></user-pill></td>',d+='			<td class="uk-text-center"><span class="uk-text-{{getGrade(student).className}}">{{getGrade(student).grade}}</span></td>',d+="		</tr>",d+="	</tbody>",d+="</table>",d+="</div>",b=a.card({header:c,body:d,classes:{card:"uk-padding-remove uk-width-1-1",body:"uk-padding-small",header:"uk-padding-small"}}),{template:b,scope:{course:"=course",list:"=list"},controller:["$scope","courseService","grades","$localStorage","$route","$location",function(a,b,c,d,e,f){a.route=function(a){b.savedCourse=a,f.path("/learning/course/"+a.id)},a.init=function(){a.loading=!0,b.initCourse(d.auth,a,{course_id:a.course.id}).then(function(b){a.loading=!1,a.students=b.data})["catch"](function(b){a.loading=!1,a.error=b})},a.getTotal=function(a){return a.meta?c.getTotal(a.meta.grades,a.course.meta.course_schema):!1},a.getGrade=function(a){return a.meta?c.getGrade(c.getTotal(a.meta.grades,a.course.meta.course_schema)):!1},a.init()}],restrict:"E",link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").directive("upload",["uikit3",function(a){return{template:a.upload({}),restrict:"E",controller:["$scope","upload",function(a,b){a.files=[];var c={url:"",multiple:!0,beforeAll:function(b,c){a.files=c,a.$emit("upload",c)}};a.upload=b.uikit3(c),a.$on("reset",function(){console.log("reset files event"),a.files=[]})}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").service("upload",["$window",function(a){this.uikit3=function(b){return a.UIkit.upload(".js-upload",b)}}]),angular.module("nimbusEduApp").service("csvParser",["$window","$q",function(a,b){this.parse=function(c){var d=[],e=b.defer();if(c){for(var f=0;f<c.length;f++)a.Papa.parse(c.item(f),{header:!0,complete:function(a){d.push(a)}});return e.resolve(d),e.promise}}}]),angular.module("nimbusEduApp").directive("import",["uikit3","importService","csvParser","eduApi","$window","sweetAlert",function(a,b,c,d,e,f){return{template:b.render(),restrict:"E",controller:["$scope","$timeout","$localStorage",function(a,d,e){a.user=e.auth,a.workbook=[],a.importTypes=b.importTypes(),a.selectImportType=function(b){a.importType=b},a.$on("upload",function(b,e){a.loading=!0,c.parse(e).then(function(b){d(function(){a.workbook=b,a.loading=!1},1e3)})}),a.add=function(b){a.workbook[b].data.unshift({})},a.remove=function(b,c){a.workbook[b].data.splice(c,1)},a.reset=function(){a.$broadcast("reset"),a.workbook=[],a.importType=!1},a["import"]=function(c){a.loading=!0;var d=b.parseWorkBook(a.workbook,c.value);console.log("import data",d),f.alert({title:"Import "+d[0].length+" "+c.name+"?",icon:"warning",buttons:{cancel:f.button({text:"Cancel",className:"uk-button uk-button-danger",value:!1}),confirm:f.button({text:"Import",value:!0})}}).then(function(e){console.log("prompt choice",e),a.loading=!0,a.$apply(),e&&b["import"](a.user,c.value,d).then(function(b){console.log("import result",b),a.loading=!1,f.alert({title:"Success",text:b.data.message,icon:"success",buttons:{confirm:f.button({text:"ok"})}}),a.reset()})["catch"](function(b){console.log("import error",b),a.loading=!1,f.alert({title:"Somethings wrong!",icon:"error",text:b.data.message,buttons:{confirm:f.button({text:"ok"})}})}),a.loading=!1})},a.orderBy=function(b){console.log("orderBy",b),a.workSheetOrder=b}}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").service("importService",["uikit3","eduApi",function(a,b){this.render=function(){var b="",c="",d="",e="";return e+='<ul class="uk-child-width-1-3@m uk-child-width-1-2@s" uk-grid>',e+='<li ng-repeat="type in importTypes">',e+='<a title="{{ type.name }}" class="uk-text-center uk-link-reset" ng-click="selectImportType(type)">',e+=a.card({body:'<span class="uk-margin-small-right" uk-icon="icon:{{ type.icon }};ratio: 3.5"></span><h3 class="uk-card-title">Import {{ type.name }}</h3>',classes:{card:"uk-card-default uk-card-hover"}}),e+="</a>",e+="</li>",e+="",c+=a.section({directive:'ng-show="!importType"',body:e,cls:"uk-text-center"}),c+='<upload ng-if="!workbook.length && !loading && importType"></upload>',c+='<div uk-spinner ng-if="loading" class="uk-width-1-1 uk-text-center"></div>',c+='<ul class="uk-list" ng-if="!loading && workbook.length">',c+='	<li ng-repeat="(worksheetIndex , worksheet) in workbook">',c+='		<div class="uk-overflow-auto">',c+='		<table class="uk-table uk-table-divider uk-table-small">',c+="			<thead>",c+="				<tr>",c+="					<th></th>",c+='					<th ng-repeat="(key,header) in worksheet.data[0]" class="uk-link" ng-click="orderBy(key)">{{ key }}</th>',c+="					<th></th>",c+="				</tr>",c+="			</thead>",c+="			<tbody>",c+='				<tr ng-repeat="rows in worksheet.data | orderBy:workSheetOrder | filter:search">',c+="					<td>{{ $index }}</td>",c+='					<td ng-repeat="column in rows track by $index">'+a.input({model:"column",cls:"uk-form-small uk-form-blank uk-text-capitalize",disabled:!0})+"</td>",c+="					<td>"+a.icons([{icon:"close",action:"remove(worksheetIndex,$index)",tooltip:"remove row",cls:"uk-text-danger"}])+"</td>",c+="				</tr>",c+="			</tbody>",c+="		</table>",c+="		</div>",c+="	</li>",c+="<ul>",c+="</div>",d='<div class="uk-clearfix" ng-if="!loading">',d+='<div class="uk-float-left uk-text-uppercase uk-text-small">',d+='<span ng-if="importType && !workbook.length"><span uk-icon="icon: {{ importType.icon }}"></span> Import {{ importType.name }}</span>',d+='<form class="uk-search uk-search-default" ng-if="importType && workbook.length">',d+="<span uk-search-icon></span>",d+=a.input({cls:"uk-search-input uk-form-small",directive:'ng-model="search"',type:"search",placeholder:"Search {{ importType.name }}"}),d+="</form>",d+="</div>",d+='<div class="uk-float-right" ng-if="workbook.length || importType">',d+=a.icons([{icon:"reply",action:"reset()",cls:"uk-text-danger",tooltip:"reset"},{icon:"cloud-upload",action:"import(importType)",cls:"uk-text-primary",tooltip:"import",directive:'ng-if="workbook.length"'}]),d+="</div>",d+="</div>",b=a.card({header:d,body:c,classes:{card:"uk-card-default",body:"uk-padding-small",header:"uk-padding-small"}})},this.parseWorkBook=function(a,b){var c=[],d={meta:{}},e=this;return a.forEach(function(a,f){c[f]=[],a.header=Object.keys(a.data[0]),delete a.header.$$hashKey,a.data.forEach(function(g){switch(b){case"user":d={meta:{address:{}}},e.parseUsers(a,g,d);break;default:d={},a.header.forEach(function(a){d[a]=g[a]})}c[f].push(d)})}),c},this.parseUsers=function(a,b,c){return a.header.forEach(function(a){"firstname"===a||"lastname"===a||"email"===a?c[a]=b[a]:"address"===a||"city"===a||"state"===a||"zip"===a||"country"===a?b[a].length&&(c.meta.address[a]=b[a]):b[a].length&&(c.meta[a]=b[a])}),c},this.importTypes=function(){return[{id:1,name:"Users",value:"user",icon:"users",description:"Import students , teachers or other users that will have access to your dashboard"}]},this["import"]=function(a,c,d){return b.api("POST",a.tenant.id+"/courses/batch?type="+c,d)}}]),angular.module("nimbusEduApp").controller("SettingsCtrl",["$scope","$localStorage",function(a,b){a.init=function(){a.settings=b.auth.tenant,a.settings.meta={school:{terms:[{startDate:"",endDate:""}],curricula:[],classes:[]}}},a.init(),console.log("SettingsCtrl scope",a,b.auth.tenant)}]),angular.module("nimbusEduApp").controller("ToolsCtrl",function(){}),angular.module("nimbusEduApp").service("userService",["eduApi","$localStorage","$rootScope",function(a,b,c){this.saveUser=function(c){return a.api("POST",b.auth.tenant.id+"/users/"+c.id,c)},this.updateLocalUser=function(a){b.auth=a,c.user=a||!1}}]),angular.module("nimbusEduApp").constant("eduApiConst",{defaultCourseSchema:{lab:{value:5,enabled:!0},exam:{value:35,enabled:!0},quiz:{value:10,enabled:!0},midterm:{value:30,enabled:!0},assignment:{value:15,enabled:!0},attendance:{value:5,enabled:!0}},pusher:{API_KEY:"4f53145dc612228f6147",cluster:"us2",defaultEventName:"Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}}),angular.module("nimbusEduApp").service("card",["uikit3","form","courseService","eduApi",function(a,b,c,d){var e=this;this.type=function(b,c,d,f){return a.card(e[b](c,d,f))},this.person=function(a){var b="";return console.log("person card"),b+='<article class="uk-text-center">',b+='<h1 class="uk-article-title uk-text-capitalize"><a class="uk-link-reset" href="">{{ '+a+".firstname }} {{ "+a+".lastname }}</a></h1>",b+='<p class="uk-article-meta uk-text-capitalize">{{ '+a+".meta.user_type }}</p>",b+='<div uk-spinner class="uk-text-center uk-width-1-1"></div>',b+="</article>",{body:b}},this.course=function(e,f,g){var h="";console.log("course card",e,f,g),h+='<article class="uk-text-center">',h+='	<h3 class="uk-text-primary uk-text-capitalize"><a class="uk-link-reset" href="">{{ '+e+".name }}</a></h3>",h+="		<hr>",h+="</article>",g&&(c.initTypeAhead(f,[{name:"subjects",display:"name",endPoint:d.apiEndPoint+"subjects",callback:function(a){var b='<li class="uk-text-capitalize">'+a.name+"</li>";return b}},{name:"instructors",display:"firstname",endPoint:d.apiEndPoint+f.user.tenant.id+"/users?user_type=teacher",callback:function(a){var b='<li class="uk-text-capitalize">'+a.firstname+" "+a.lastname+"</li>";return b}}]),h+=b.editCourse(e,f),f.createCourseInit=!0);var i=a.button({cls:"uk-button uk-button-default uk-width-1-1 uk-margin-small-bottom",icon:"upload",label:"Save",directive:'ng-click="save('+e+')"'});return i+='<div class="uk-margin" ng-if="error">{{error}}</div>',{body:h,classes:{body:"uk-padding-remove",footer:"uk-padding-remove"},footer:g?i:!1}}}]),angular.module("nimbusEduApp").directive("overview",["uikit3",function(a){var b='<div class="uk-grid-divider uk-child-width-expand@s" uk-grid>';return b+='  <div ng-repeat="metric in metrics.breakdown">',b+='   <stat-card title="metric.title" data="metric.data" type="metric.type" legend="false"></stat-card>',b+="  </div>",b+="</div>",{template:a.card({body:b,classes:{card:"uk-padding-remove uk-card-default",body:"uk-padding-small",header:"uk-padding-small"}}),restrict:"E",controller:["$scope","$localStorage","courseService",function(a,b,c){a.user=b.auth,a.classes=c.getClasses(),a.metrics={term:{name:"first term",year:2018},breakdown:[{title:"students",data:{endpoint:a.user.tenant.id+"/users?user_type=student",grouping:[function(a){return a.meta.course_grade_id},null,function(b,c){return{key:a.classes[parseInt(b)-1].name,data:c.source}}]}},{title:"teachers",data:{endpoint:a.user.tenant.id+"/users?user_type=teacher",grouping:[function(a){return a.account_status.name},null,function(a,b){return{key:a,data:b.source}}]}},{title:"invoices",data:{endpoint:a.user.tenant.id+"/billing",grouping:[function(a){return a.status.name},null,function(a,b){return{key:a,data:b.source}}]}}]}}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").directive("usercard",["uikit3",function(a){var b='<user-pill user="user" name="true" label=""></user-pill>';return b+='<tabs tabs="tabs" class="uk-width-1-1" ng-if="showTabs"></tabs>',{template:a.card({body:b,classes:{body:"uk-padding-small uk-width-1-1",card:"uk-card-default"}}),scope:{user:"=user",showTabs:"=tabs",wrapper:"=wrapper"},controller:["$scope","format",function(a,b){a.format=b,a.tabs=[{name:"grades",template:"this is a grades tab"},{name:"invoices",template:"this is an invoices tab"}]}],restrict:"E",link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").factory("graphApi",["$http",function(a){var b=this;return b.apiEndPoint="http://graph.nimbus.com:8000/v1/",{apiEndPoint:b.apiEndPoint,api:function(c,d,e){switch(c){case"GET":return a.jsonp(b.apiEndPoint+d,{method:c});case"POST":return a.jsonp(b.apiEndPoint+d,{method:c,data:e})}}}}]).factory("fmsApi",["$http",function(a){var b="http://fms.nimbus.com:9090/";return{api:function(c,d,e){switch(c){case"GET":return a.get(b+d);case"POST":return a.post(b+d,e)}}}}]).factory("eduApi",["$http",function(a){var b=this;return b.apiEndPoint="https://nimbus-learning-api.herokuapp.com/api/v1/",{apiEndPoint:b.apiEndPoint,api:function(c,d,e){switch(c){case"GET":return a.get(b.apiEndPoint+d);case"POST":return a.post(b.apiEndPoint+d,e)}}}}]).factory("queryString",function(){return{objectToQuerystring:function(a){var b="";if("undefined"!==a){b="?";for(var c=0;c<Object.keys(a).length;c++)b+=Object.keys(a)[c]+"="+a[Object.keys(a)[c]],b+=Object.keys(a)[c+1]?"&":""}return encodeURI(b)}}}),angular.module("nimbusEduApp").factory("breadcrumbs",function(){return{parse:function(){var a=[];return a}}}),angular.module("nimbusEduApp").factory("uikit3",function(){return{input:function(a){var b="";return b+=a.label?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+a.label+"</label>":"",b+="<input ",a.cls&&(b+='class="',b+="range"!==a.type?"uk-input":a.cls,b+='" '),b+=a.type?' type="'+a.type+'" ':' type="text" ',b+=a.model?' ng-model="'+a.model+'" ':"",b+=a.directive?a.directive:"",b+=a.placeholder?' placeholder="'+a.placeholder+'" ':"",b+=a.name?'name="'+a.name+'"':"","range"===a.type&&(b+=a.min?' min="'+a.min+'" ':"",b+=a.max?' max="'+a.max+'" ':"",b+=a.value?' value="'+a.value+'" ':"",b+=a.step?' step="'+a.step+'" ':""),b+=a.required?"required":"",b+=">"},inputIcon:function(a){var b="",c=this;return b+='<div class="uk-inline uk-width-1-1">',b+='<a class="uk-form-icon uk-form-icon" href=""',b+=a.icon?'uk-icon="icon: '+a.icon+'"':'uk-icon="icon: "',b+="></a>",b+=c.input(a),b+="</div>"},button:function(a){var b="";return b+="<button ",b+=a.cls?'class="uk-button '+a.cls+'"':'class="uk-button uk-button-primary"',b+=a.directive?a.directive:"",b+='">',b+=a.icon?'<span uk-icon="icon: '+a.icon+'"></span>':"",b+=a.label?a.label:"",b+="</button>"},buttonDropDown:function(a){var b="",c=this;return b+='<div class="uk-inline">',b+=c.button(a),b+='	<div class="uk-padding-small" uk-dropdown="mode: click; boundary: ! .uk-button-group; boundary-align: true;">',b+='		<ul class="uk-nav uk-dropdown-nav">',b+='			<li ng-repeat="column in '+a.scope+'">',b+='				<label><input class="uk-checkbox" type="checkbox" ng-model="column.show"> {{ column.label }} </label>',b+="			</li>",b+="		</ul>",b+="	</div>",b+="</div>"},textarea:function(a){var b="";return b+=a.label?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+a.label+"</label>":"",b+="<textarea ",b+=a.cls?'class="uk-textarea '+a.cls+'"':'class="uk-textarea"',b+=a.placeholder?'placeholder="'+a.placeholder+'"':"",b+=a.model?'ng-model="'+a.model+'"':"",b+=a.name?'name="'+a.name+'"':"",b+='">',b+="</textarea>"},range:function(a){return this.input(a)},select:function(a){var b="";return b+=a.placeholder?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+a.placeholder+"</label>":"",b+="<select ",b+=a.cls?'class="uk-select '+a.cls+'"':'class="uk-select"',b+=a.placeholder?'placeholder="'+a.placeholder+'"':"",b+=a.directive?a.directive:"",b+=a.name?'name="'+a.name+'"':"",b+='"></select>'},checkbox:function(a){var b="";return b+='<label><input type="checkbox" ',b+=a.name?'name="'+a.name+'"':"",b+=a.cls?'class="uk-checkbox '+a.cls+' "':"",b+=a.directive?a.directive:"",b+=a.checked?"checked":"",b+=">",b+=a.label?a.label:"",b+="</label>"},upload:function(a){var b="";return b+=a.placeholder?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+a.placeholder+"</label>":"",b+='<div class="js-upload uk-placeholder uk-text-center">',b+='	<span uk-icon="icon: cloud-upload"></span>',b+='	<span class="uk-text-middle">Attach binaries by dropping them here or</span>',b+="	<div uk-form-custom>",b+='		<input type="file" multiple>',b+='		<span class="uk-link">selecting one</span>',b+="	</div>",b+="</div>"},offcanvas:function(a){var b='<div id="'+(a.el?a.el:"offcanvas")+'" uk-offcanvas="'+(a.flip?"flip:"+a.flip+";":"")+'mode: push">';return b+='<div class="uk-offcanvas-bar ',b+=a.cls?a.cls:"",b+='">',b+=a.title?a.title:"",b+=a.body?a.body:"",b+='<button class="uk-offcanvas-close" type="button" uk-close></button>',b+="</div>",b+="</div>"},modal:function(a){var b="",c="uk-modal-close-default";return a.type&&"full"===a.type&&(a.wrapperCls+=" uk-modal-full",c="uk-modal-close-full uk-close-large"),b+='<div id="modal" ',b+=a.wrapperCls?'class="'+a.wrapperCls+'"':"",b+=a.directive?a.directive:"",b+="uk-modal>",b+='	<div class="uk-modal-dialog ',b+=a.cls?a.cls+'"':'"',b+=">",b+='		<button class="'+c+'" type="button" uk-close></button>',a.type&&"full"===a.type?b+=a.body?this.fullModalBody(a):"":(b+=a.title?'<div class="uk-modal-header"><h2 class="uk-modal-title uk-text-capitalize">'+a.title+"</h2></div>":"",b+=a.body?'		<div class="uk-modal-body uk-padding-remove">'+a.body+"</div>":"",b+=a.footer?'		<div class="uk-modal-footer">'+a.footer+"</div>":""),b+="	</div>",b+="</div>"},fullModalBody:function(a){var b="";return b+='<div class="uk-grid-collapse ',b+=a.image?"uk-child-width-1-2@s":"uk-child-width-1-1@s",b+=' uk-flex-middle" uk-grid>',b+=a.image?'<div class="uk-background-cover" ':"",b+=a.image?'style="background-image: url('+a.image+');" ':"",b+=a.image?"uk-height-viewport></div>":"",b+='<div class="uk-padding-large">',b+=a.title?a.title:"",b+=a.body?a.body:"",b+="</div>",b+="</div>"},table:function(a,b){var c="",d="";switch(b){case"request":d+="  <thead>",d+='	  <tr class="uk-text-small">',d+='		  <th class="uk-table-shrink"><input class="uk-checkbox" type="checkbox" ng-click="selectRows(all)"></th>',d+='		  <th class="uk-table-expand">Description</th>',d+='		  <th class="uk-table-shrink">Quantity</th>',d+='		  <th class="uk-width-small">Cost</th>',d+='		  <th class="uk-width-small">Total</th>',d+='		  <th class="uk-width-small"><a uk-icon="icon: plus-circle" ng-click="addRow()">add</a></th>',d+="	  </tr>",d+="  </thead>",d+="  <tbody>",d+='	  <tr ng-repeat="item in newAsset.items" class="uk-text-small">',d+='		  <td><input class="uk-checkbox" type="checkbox" ng-model="item.selected"></td>',d+='		  <td><input class="uk-input uk-form-blank" type="text" ng-model="item.description"></td>',d+='		  <td><input class="uk-input uk-form-blank" type="number" ng-model="item.quantity"></td>',d+='		  <td><input class="uk-input uk-form-blank" type="number" ng-model="item.cost" step="0.5"></td>',d+='		  <td><input class="uk-input uk-form-blank" type="number" ng-value="item.cost * item.quantity"></td>',d+="		  <td>",d+='			 <ul class="uk-iconnav">',d+='			   <li><a uk-icon="icon: minus-circle" class="uk-text-danger" ng-click="removeRow($index)"></a></li>',d+="			</ul>",d+="		  </td>",d+="	  </tr>",d+="  </tbody>"}return c+='<table class="uk-table uk-table-middle uk-table-divider uk-margin-remove">',c+=d,c+="</table>"},typeahead:function(a){var b="";return b+=this.input(a)},typeaheadPreview:function(a){var b="";
return b+='<article class="uk-comment uk-padding-small">',b+='	<header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove" uk-grid>',a.image&&(b+='		<div class="uk-width-auto uk-padding-remove image">',b+='			<img class="uk-comment-avatar" src="'+a.image+'" width="30" height="30" alt="">',b+="		</div>"),a.title&&(b+='		<div class="uk-width-expand title">',b+='<h4 class="uk-comment-title uk-margin-remove uk-text-small"><a class="uk-link-reset" href="#">'+a.title+"</a></h4>",b+="		</div>"),b+="	</header>",a.description&&(b+='	<div class="uk-comment-body">',b+="		<p>"+a.description+"</p>",b+="	</div>"),b+="</article>"},card:function(a){var b="";return a.classes||(a.classes={}),b+='<div class="uk-card ',b+=a.classes.card?a.classes.card:"",b+='">',a.image&&(b+='<div class="uk-card-media-top">',b+='<img src="'+a.image.url+'"',b+=a.image.title,b+=">",b+="</div>"),a.header&&(b+='<div class="uk-card-header ',b+=a.classes.header?a.classes.header:"",b+='">',b+=a.header,b+="</div>"),b+='<div class="uk-card-body ',a.classes&&(b+=a.classes.body?a.classes.body:""),b+='">',b+=a.body,b+="</div>",a.footer&&(b+='<div class="uk-card-footer ',a.classes&&(b+=a.classes.footer?a.classes.footer:""),b+='">',b+=a.footer,b+="</div>"),b+="</div>"},icons:function(a){var b="";return b='<ul class="uk-iconnav">',a.forEach(function(a){b+="<li ",b+=a.directive?a.directive:"",b+=">",b+='<a uk-icon="icon: ',b+=a.icon?a.icon:"",b+='"',b+=a.cls?' class="'+a.cls+'"':"",b+=a.action?' ng-click="'+a.action+'"':"",a.tooltip,b+="",b+="></a>",b+="</li>"}),b+="</ul>"},section:function(a){var b="";return b+='<div class="uk-section uk-section-default" ',b+=a.directive?a.directive:"",b+=">",b+='    <div class="uk-container">',b+="        <h3>",b+=a.title?a.title:"",b+="		</h3>",b+="        <div>",b+=a.body?a.body:"",b+="        </div>",b+="    </div>",b+="</div>"},dataTable:function(a){var b="";if(a.template)b+=a.template;else if(a.name)switch(a.name){case"card":b+="<div ng-if=\"source.type === 'card'\">",b+='<ul ng-if="!loading" class="uk-grid-small uk-child-width-1-3@m uk-child-width-1-2@s" uk-grid="masonry: true">',b+='	<li ng-click="select(row)" ng-repeat="row in list.data.data | filter:search:strict">',b+='		<usercard user="row" tabs="false"></usercard>',b+="	</li>",b+="</ul>",b+="</div>";break;case"list":b+="<div ng-if=\"source.type === 'list'\">",b+='<ul ng-if="!loading" class="uk-list uk-list-divider">',b+='	<li ng-click="select(row)" ng-repeat="row in list.data.data | filter:search:strict"">',b+='		<user-pill user="row" name="true" label="format.userMeta(row)"></user-pill>',b+="	</li>",b+="</ul>",b+="</div>";break;default:b+='<table ng-if="source.type === \'table\'" class="uk-table-hover uk-table uk-table-middle uk-margin-remove">',b+="	<thead>",b+="		<tr>",b+='    		<th ng-repeat="(key , label) in list.data.data[0]" ng-if="getColumn(key).show">{{ getColumn(key).label }}</th>',b+="		</tr>",b+="	</thead>",b+='	<tbody ng-if="!loading">',b+='		<tr ng-repeat="row in list.data.data | filter:search:strict" ng-click="select(row)">',b+='			<td ng-repeat="(key,column) in row" ng-if="getColumn(key).show">',b+="				{{ column.key || column }}",b+="			</td>",b+="		</tr>",b+="	</tbody>",b+="</table>"}return b}}}),angular.module("nimbusEduApp").factory("sweetAlert",["$window",function(a){return{alert:function(b){return a.swal(b)},button:function(a){return{text:a.text||"",value:a.value||!1,visible:!0,className:a.className||"uk-button uk-button-primary",closeModal:!0}}}}]),angular.module("nimbusEduApp").directive("searchFilter",["uikit3",function(a){var b=a.select({cls:"uk-text-capitalize",directive:'ng-change="filterResults(searchFilter)" ng-model="searchFilter" ng-options="filter as filter.name for filter in filter.options track by filter.id"'});return{template:b,restrict:"E",scope:{filter:"=filter"},controller:["$scope",function(a){a.init=function(){a.filter&&a.filter.options&&(a.searchFilter=a.filter["default"]||a.filter.options[0])},a.init(),a.filterResults=function(b){var c={};c[a.filter.name]=b.id,a.$emit("searchFilter",c)}}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").directive("spinner",function(){return{template:'<div uk-spinner class="uk-width-1-1 uk-text-center uk-padding-small"></div>',restrict:"E",link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}),angular.module("nimbusEduApp").directive("instructorCourses",["uikit3",function(a){var b="";return b+="<div>",b+='   <spinner ng-if="loading"></spinner>',b+='   <ul ng-if="list && !loading" class="uk-list uk-width-1-1 uk-margin-remove uk-list-divider">',b+='   <li ng-repeat="course in coursesList.data" class="uk-clear-fix">',b+='		<div class="uk-float-left">',b+='		 <a href="#!/learning/course/{{course.id}}" class="uk-margin-remove uk-text-primary uk-text-capitalize">{{ course.name }} <span class="uk-text-uppercase uk-text-small uk-label">{{ course.code }}</span></a>',b+="   </div>",b+='   <div class="uk-float-right">',b+='     <p class="uk-margin-remove uk-text-muted uk-text-uppercase">{{course.registrations.length}} students</p>',b+="   </div>",b+="		</li>",b+="	 </ul>",b+="</div>",{template:a.card({header:'<user-pill ng-if="heading" user="user" label="label" name="true" class="uk-margin-remove"></user-pill>',body:b,classes:{card:"uk-padding-remove",header:"uk-padding-small",body:"uk-padding-small"}}),restrict:"E",scope:{user:"=user",list:"=list",heading:"=heading"},controller:["$scope","courseService",function(a,b){a.label="",a.init=function(){a.loading=!0;var c={instructor_id:a.user.id};b.getCourses(a.user,c).then(function(b){a.coursesList=b.data,a.loading=!1})["catch"](function(b){a.loading=!1,a.error=b})},a.init(),console.log("instructorCourses",a)}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").directive("letterThumb",function(){return{template:'<div title="{{ user.firstname }} {{ user.lastname }}" class="letter-thumb uk-inline uk-border-rounded uk-section-primary"><span class="uk-logo uk-position-center uk-text-light">{{user.firstname.charAt(0) | uppercase}}</span></div>',scope:{user:"=user"},restrict:"E",link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}),angular.module("nimbusEduApp").directive("statCard",["uikit3",function(a){var b="",c="",d="";return d+='<div class="uk-clearfix">',d+='	<div class="uk-float-left">',d+="	</div>",d+='	<div class="uk-float-right">',d+="	</div>",d+="</div>",b+='<spinner ng-if="loading"></spinner>',b+='<div ng-if="!loading" class="">',b+=' <div class="uk-flex-middle uk-grid-small" uk-grid>',b+='   <div class="uk-width-auto">',b+='     <div class="chart">',b+='       <canvas id="doughnut" chart-options="options" chart-colors="colors" class="chart chart-doughnut" chart-data="datapoints" chart-labels="labels"></canvas>',b+='       <span class="uk-logo label">{{data.results.length}}</span>',b+="     </div>",b+="   </div>",b+='   <div class="uk-width-expand">',b+='     <h5 class="uk-text-uppercase uk-logo uk-text-muted uk-text-center">{{title}}</h5>',b+="   </div>",b+=" </div>",b+="</div>",b+='<div class="uk-child-width-1-1" uk-grid ng-if="data.analysis && legend">',b+='<ul class="uk-list uk-list-divider">',b+=' <li ng-repeat="metric in data.analysis" class="uk-clearfix">',b+='   <div class="uk-float-left">',b+='     <p class="uk-text-uppercase uk-text-small uk-margin-remove uk-label" style="background-color:{{colors[$index]}}">{{metric.key|uppercase}}</p>',b+="   </div>",b+='   <div class="uk-float-right">',b+='     <p class="uk-text-small uk-margin-remove" style="color:{{colors[$index]}}">{{metric.data.length}}</p>',b+="   </div>",b+=" </li>",b+="</ul>",b+="</div>",c+=a.card({header:d,body:b,classes:{header:"uk-padding-remove",body:"uk-padding-remove"}}),{template:c,controller:["$scope","eduApi","$linq","dashboardConst",function(a,b,c,d){a.init=function(){a.loading=!0,a.error=!1,b.api("GET",a.data.endpoint).then(function(b){a.data.results=b.data,a.data.analysis=c.Enumerable().From(a.data.results).GroupBy(a.data.grouping[0],a.data.grouping[1],a.data.grouping[2]).ToArray(),a.datapoints=[],a.labels=[],a.colors=d.chart.colors,a.options={cutoutPercentage:80},a.data.analysis.forEach(function(b){a.labels.push(b.key),a.datapoints.push(b.data.length)}),a.loading=!1})["catch"](function(b){console.log("eduApi error",b),a.loading=!1,a.error=!0})},a.init(),a.$on("chart-create",function(b,c){a.colors=c.config.options.colors})}],scope:{title:"=title",type:"=type",data:"=data",legend:"=legend"},restrict:"E",link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").constant("dashboardConst",{chart:{colors:["#f7464a","#1e87f0","#32d296","#bc32d2","#ead203"]}}),angular.module("nimbusEduApp").directive("tabs",["uikit3",function(a){var b="";return b+="<ul uk-tab>",b+='	<li ng-repeat="(tab_key,tab) in tabs">',b+='		<a href="#">{{tab.name}}',b+="		</a>",b+="	</li>",b+="</ul>",b+='<ul class="uk-switcher uk-margin">',b+='	<li ng-repeat="tab in tabs">',b+='		<div class="uk-grid-small" uk-grid>',b+='			<div class="uk-width-1-1">',b+='				<div bind-html-compile="tab.template"></div>',b+="			</div>",b+="		</div>",b+="	</li>",b+="</ul>",{template:a.card({body:b,classes:{header:"uk-padding-remove",body:"uk-padding-remove"}}),restrict:"E",scope:{tabs:"=tabs"},controller:["$scope","modal",function(a,b){a.init=function(){a.loading=!0},a.init(),a.tab=function(){a.selected=!1},a.$on("selected",function(c,d){console.log("selected",d),a.selected=d;var e="";d.user_type&&(e+=a.getBody(d.user_type.name)),b.modal({body:e},a).then(function(){}),a.$broadcast("reload",a.user)}),a.getBody=function(a){var b="";switch(a){case"teacher":b+='<usercard user="selected" list="true" tabs="false" type="'+a+'"></usercard>';break;default:b+='<usercard user="selected" tabs="true" type="'+a+'"></usercard>'}return b}}],link:function(a,b){b.on("$destory",function(){a.$destory()})}}}]),angular.module("nimbusEduApp").service("notifications",["$pusher","$window","eduApiConst","eduApi",function(a,b,c,d){this.pusher=function(){return this.debug(!0),this.client=new b.Pusher(c.pusher.API_KEY,{cluster:c.pusher.cluster,forceTLS:!0,authEndpoint:d.apiEndPoint+"pusher/auth"}),a(this.client)},this.debug=function(a){b.Pusher.logToConsole=a}}]),angular.module("nimbusEduApp").directive("list",["uikit3",function(a){var b="";return b+='<div class="uk-clearfix">',b+='	<form class="uk-grid-small uk-float-left" uk-grid>',b+='	<div class="uk-margin-bottom">',b+='		<search-filter filter="countFilter"></search-filter>',b+="	</div>",b+='	<div class="uk-margin-bottom" ng-repeat="filter in source.filters" ng-if-"filter">',b+='		<search-filter filter="filter"></search-filter>',b+="	</div>",b+='	<div class="uk-button-group uk-margin-bottom" ng-if="source.type === \'table\'">',b+=a.buttonDropDown({cls:"uk-button-default",label:'show/hide columns <span uk-icon="icon:  triangle-down"></span>',scope:"source.columns"}),b+="	</div>",b+='	<div class="" ng-if="source.display.length > 1">',b+='		<div class="uk-button-group">',b+=a.button({icon:"{{d.icon}}",directive:'ng-repeat="d in source.display" ng-click="showDisplay(d)" ng-class="d.name === source.type ? \'uk-button-primary\' : \'uk-button-default\'"',cls:" "}),b+="		</div>",b+="	</div>",b+='	<div class="">',b+=a.inputIcon({icon:"search",directive:'ng-model="search.$"',cls:"uk-input"}),b+="	</div>",b+="	</form>",b+='	<div class="uk-float-right">',b+="	</div>",b+="</div>",b+='	<spinner ng-if="loading"></spinner>',b+=' <div class="uk-placeholder uk-text-center" ng-if="!loading && !list.data.data.length">couldnt find any {{ name }}</div>',b+='	<div ng-repeat="d in source.display" bind-html-compile="d.template"></div>',b+='<pagination ng-if="list.data.data.length" from="list.data.from" to="list.data.to" current="list.data.current_page" last="list.data.last_page" total="list.data.total" type="source.type"></pagination>',{template:b,restrict:"E",scope:{source:"=source",name:"=name"},controller:["$scope","eduApi","$window","apiConst","queryString","format",function(a,b,c,d,e,f){a.searchFilter={},a.selected=!1,a.init=function(c){a.loading=!0,c&&(a.source.query=Object.assign({},a.source.query,c));var d=a.source.endpoint+e.objectToQuerystring(a.source.query||{});console.log("query url",d,a),b.api("GET",d).then(function(b){a.loading=!1,a.list=b})["catch"](function(b){return console.log("eduApi "+a.source.type+" error",b),a.loading=!1,!1})};var g=d.filterCount;a.countFilter={type:"select",label:"Filter by Class",name:"paginate",options:g,"default":g[1]},a.select=function(b){a.$emit("selected",b)},a.format=f,a.getColumn=function(b){var c=a.source.columns.findIndex(function(a){return a.name===b});return a.source.columns[c]||!1},a.showDisplay=function(b){a.source.type=b.name},a.$on("pagination",function(b,c){a.searchFilter=Object.assign({},a.searchFilter,c),a.init(a.searchFilter)}),a.$on("searchFilter",function(b,c){a.searchFilter=Object.assign({},a.searchFilter,c),a.searchFilter.page=1,a.init(a.searchFilter)}),a.source&&a.init(a.searchFilter)}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}]),angular.module("nimbusEduApp").directive("pagination",function(){var a="";return a+='<ul class="uk-pagination uk-margin-top">',a+='	<li><button ng-disabled="current <= 1" ng-click="paginate(current-1)" ng-class="current <= 1 ? \'uk-button-default\' : \'\'" class="uk-button"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</button></li>',a+='  <li class=" uk-text-muted uk-inline uk-text-uppercase uk-width-expand">',a+='    <span class="uk-position-center">Showing {{from}} to {{to}} of {{total}} entries</span>',a+="  </li>",a+='	<li class="uk-margin-auto-left"><button ng-disabled="current === last" ng-click="paginate(current+1)" ng-class="current === last ? \'uk-button-default\' : \'\'" class="uk-button">Next <span class="uk-margin-small-left" uk-pagination-next></span></button></li>',a+="</ul>",{template:a,restrict:"E",scope:{from:"=from",to:"=to",current:"=current",last:"=last",total:"=total",type:"=type"},controller:["$scope",function(a){a.paginate=function(b){a.$emit("pagination",{page:b})}}],link:function(a,b){b.on("$destroy",function(){a.$destroy()})}}}),angular.module("nimbusEduApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/account.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <div class="uk-container uk-width-2-3@l uk-width-2-3@m uk-padding-remove"> <div class="uk-card"> <div class="uk-card-body uk-padding-remove"> <ul uk-tab> <li><a href="#" class="">Account Details</a></li> <li><a href="#" class="uk-hidden">Billing</a></li> </ul> <ul class="uk-switcher uk-margin"> <li> <form class="uk-form-horizontal uk-margin-large"> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">First Name</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text" type="text" placeholder="First Name" ng-model="profileData.firstname"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Last Name</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text" type="text" placeholder="Last Name" ng-model="profileData.lastname"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Email</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text" type="email" placeholder="Email Address (Primary)" disabled ng-model="profileData.email"> </div> </div> <hr> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Phone Number</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" type="tel" placeholder="Phone Number (Primary)" ng-model="profileData.meta.phone"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Phone Number (Secondary)</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" type="tel" placeholder="Phone Number (Secondary)" ng-model="profileData.meta.secondaryPhone"> </div> </div> <p class="uk-heading-line uk-text-left uk-text-capitalize uk-text-small uk-text-bold"><span class="ng-binding">Address</span></p> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Street</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="Street Address" ng-model="profileData.meta.address.street"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">City</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="City" ng-model="profileData.meta.address.city"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">State</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="State" ng-model="profileData.meta.address.state"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Country</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="Country" ng-model="profileData.meta.address.country" ng-disabled="true"> </div> </div> <div class="uk-margin"> <button class="uk-button uk-button-primary" ng-click="save(profileData)">Save <div uk-spinner ng-if="loading" width="10px"></div></button> </div> </form> </li> <li> <div class="uk-grid-small" uk-grid> <div class="uk-width-1-1@m"> <div class="uk-card uk-card-default"> <div class="uk-card-header uk-padding-small"> <div class="uk-clearfix"> <div class="uk-align-left uk-margin-remove"> <p class="uk-margin-remove uk-text-capitalize">Your Services</p> </div> <div class="uk-align-right uk-margin-remove"> <p class="uk-text-meta uk-margin-remove uk-text-mute">{{ service.currency.symbol }} {{ service.meta.cost }}</p> </div> </div> </div> <div class="uk-card-body"> <ul class="uk-nav uk-nav-default"> <li ng-repeat="service in userServices" class="uk-text-capitalize"><a ng-click="viewService($index);">{{ service.name }}</a></li> </ul> </div> </div> </div> <div class="uk-width-1-1@m"> <div class="uk-margin services"> <form class="uk-search uk-search-default uk-width-1-1" ng-if="false"> <a href="" uk-search-icon></a> <input type="text" datasets="serviceDataset" options="serviceOptions" ng-model="search" sf-typeahead class="uk-search-input uk-width-1-1 typeahead uk-width-1-1" placeholder="Search..."> </form> <ul class="uk-grid-small" uk-grid> <li ng-repeat="service in services" class="uk-width-1-1@m uk-width-1-1@xs"> <div class="uk-card uk-card-default"> <div class="uk-card-header uk-padding-small"> <div class="uk-clearfix"> <div class="uk-align-left uk-margin-remove"> <div class="uk-grid-small uk-flex-middle" uk-grid> <div class="uk-width-auto"> <img class="" width="40" height="40" src="{{ service.meta.icon }}"> </div> <div class="uk-width-expand"> <p class="uk-margin-remove uk-text-capitalize">{{ service.name }}</p> </div> </div> </div> <ul class="uk-iconnav uk-align-right uk-margin-remove"> <li><a uk-icon="icon: plus" ng-click="addService($index)" title="enable {{ service.name }} api"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-small" ng-if="service.description"> <p>{{ service.description }}</p> </div> </div> </li> </ul> </div> </div> </div> </li> </ul> </div> </div> </div> </section>'),a.put("views/course.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class=""> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <article class="uk-article uk-width-1-1"> <ul uk-tab uk-switcher class="uk-margin-remove"> <li><a href="#">Overview</a></li> <li ng-if="courseData.data"><a href="#">Details</a></li> </ul> <ul class="uk-switcher uk-padding-small"> <li uk-grid data-tab="overview" class="uk-grid-small"> <div class="uk-width-1-1"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <div class="uk-align-left uk-margin-remove uk-width-1-2"> <user-pill user="course.instructor" name="true" label="\'teacher\' | uppercase" ng-show="!loading"> </user-pill> </div> <div class="uk-align-right" ng-if="authorized"> <spinner ng-if="saving"></spinner> <ul ng-if="!saving" class="uk-iconnav toolbar"> <li> <a ng-click="upload(courseData.data)" uk-icon="icon: cloud-upload"></a> </li> <li> <a ng-click="edit(course)" uk-icon="icon: cog"></a> </li> </ul> </div> </div> <div class="uk-card-body uk-overflow-auto uk-padding-remove"> <spinner ng-if="loading"></spinner> <div ng-if="!loading && !courseData.data" class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right uk-text-uppercase" uk-icon="ban"></span> {{ \'no students found\' }} </div> <table class="uk-table uk-table-hover uk-table-middle uk-table-small uk-margin-remove" ng-if="!loading && courseData.data"> <thead> <tr> <th class="uk-table-small">Name</th> <th ng-repeat="(key , grade) in course.meta.course_schema" class="uk-width-small uk-text-small uk-visible@s uk-visible@m">{{ key }} / {{course.meta.course_schema[key]}}</th> <th class="uk-table-small uk-text-small uk-visible@s">Total</th> <th class="uk-table-shrink uk-text-small">Grade</th> </tr> </thead> <tbody> <tr ng-repeat="student in courseData.data"> <td> <user-pill user="student.user" name="true" class="uk-link-reset uk-text-capitalize"> </user-pill> </td> <td ng-repeat="(key , grade) in course.meta.course_schema" class="uk-visible@s uk-visible@m uk-width-small"> <input type="number" class="uk-input" ng-init="!student.meta.grades[key] ? student.meta.grades[key] = 0 : null" ng-model="student.meta.grades[key]" max="{{course.meta.course_schema[key]}}" min="0" ng-disabled="!authorized"> </td> <td class="uk-width-small uk-visible@s"> <input type="number" class="uk-input" ng-value="getTotal(student.meta.grades)" min="0" disabled> </td> <td class="uk-text-center"> <span class="uk-text-{{getGrade(student.meta.grades).className}}">{{getGrade(student.meta.grades).grade}}</span> </td> </tr> </tbody> </table> <div class="uk-width-1-1 uk-padding-small"> <button ng-if="courseData.next_page_url" ng-click="next(courseData.current_page + 1)" class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom">Load More <div uk-spinner ng-if="paginate"></div></button> </div> </div> </div> </div> </li> <li uk-grid data-tab="outline" class="uk-grid-small uk-margin-remove" ng-if="courseData.data"> <div ng-if="outlineMessage && !loadingOutline" class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ outlineMessage }} </div> <div class="uk-text-center uk-padding-small" ng-if="loadingOutline"><div uk-spinner></div></div> <div class="uk-width-1-3@m uk-padding-remove"> <div class="uk-card uk-card-default uk-visible@s" ng-if="outline && !loadingOutline"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title title">Topics</h3> </div> <div class="uk-card-body"> <ul class="uk-nav uk-nav-default uk-list uk-list-divider uk-nav-parent-icon" uk-nav> <li class="uk-parent" ng-if="outline" ng-repeat="topic in outline"> <a href="#{{ $index }}" class="uk-nav-header">{{ topic.title }}</a> <ul class="uk-nav-sub" ng-if="topic.sub_lessons"> <li ng-repeat="subTopic in topic.sub_lessons"> <a href="#{{ $index }}" uk-scroll>{{ subTopic.title }}</a> </li> </ul> </li> </ul> </div> </div> </div> <div class="uk-width-2-3@m"> <article class="uk-article" ng-repeat="topic in outline"> <p class="uk-text-lead" id="#{{ $index }}"><a class="uk-link-reset" href="">{{ topic.title }}</a> </p><p class="uk-article-meta">Written by <a href="#">Super User</a> on 12 April 2012.</p> <p class="uk-text-bold">{{ topic.description }}</p> <p>{{ topic.content }}</p> </article> </div> </li> </ul> </article> </main> </section>'),a.put("views/courses.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section> <spinner ng-if="loading"></spinner> <div ng-if="!coursesList.data.length && !loading" class="uk-width-1-1"> <div class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ \'no courses\' | uppercase }} </div> </div> <main ng-if="coursesList.data.length" class="uk-overflow-auto"> <table class="uk-table uk-table-hover uk-table-middle uk-table-divider"> <thead> <tr> <th class="uk-table-shrink"></th> <th class="uk-table-expand">Course Name</th> <th class="uk-table-small">Class</th> <th class="uk-table-small uk-visible@m">Instuctor</th> <th class="uk-width-small"> <select class="uk-select uk-text-capitalize uk-text-small" ng-select="filterByClass(classFilter)" ng-options="class as class.name for class in classes track by class.id" ng-model="classFilter" ng-if="false"></select> </th> </tr> </thead> <tbody> <tr ng-repeat="course in coursesList.data"> <td><img class="uk-preserve-width uk-border-circle" src="{{ user.image_url }}" width="40" alt=""></td> <td> <a class="uk-link-reset uk-text-capitalize" ng-click="view(course,\'course\')"> {{ course.name }} <span class="uk-text-muted uk-text-small uk-visible@m">{{ course.code }}</span> </a> </td> <td> {{ course.grade.name | uppercase }} </td> <td class="uk-visible@m"> <a class="uk-link-reset uk-text-capitalize" ng-if="course.instructor" ng-disabled="offCanvasOpen"> {{ course.instructor.firstname }} {{ course.instructor.lastname }} </a> <a class="uk-text-capitalize uk-text-danger" ng-if="!course.instructor" ng-disabled="offCanvasOpen"> {{ \'no instructor assigned\' }} </a> </td> <td> <ul class="uk-iconnav"> <li><a ng-click="view(course,\'course\',true,$index)" uk-icon="icon: file-edit" title="edit course"></a></li> <li><a ng-href="#!/learning/course/{{course.id}}" uk-icon="icon: list" title="view course"></a></li> </ul> </td> </tr> </tbody> </table> </main> <main class="uk-grid-small uk-hidden" uk-grid> <div class="uk-width-1-3@m" ng-repeat="course in coursesList.data"> <div class="uk-card uk-card-default uk-card-hover"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <a ng-href="#!/learning/course/{{ course.id }}" class="uk-button uk-button-text uk-align-left title uk-text-capitalize uk-text-bold uk-margin-remove"> {{ course.name }} <span class="uk-text-muted">{{ course.grade.name | uppercase }}</span> </a> <div class="uk-align-right"> <ul class="uk-iconnav" uk-switcher="connect: .details-{{$index}}"> <!-- <li><a href="#" class="uk-icon-link" uk-icon="icon: home"></a></li> --> <li><a href="#" class="uk-icon-link" uk-icon="icon: info"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-small"> <ul class="uk-switcher details-{{$index}} uk-margin"> <li> <p class="uk-text-truncate">{{ course.description }}</p> <ul class="uk-list uk-list-divider"> <li class="uk-clear-fix"> <span class="uk-align-left uk-margin-remove"> Students </span> <span class="uk-align-right uk-margin-remove"> {{ course.registrations.length }} </span> </li> <li class="uk-clear-fix" ng-if="false"> <span class="uk-align-left uk-margin-remove"> Class Average </span> <span class="uk-align-right uk-margin-remove"> {{ courseAverage(course) }} </span> </li> <li class="uk-clear-fix" ng-if="false"> <span class="uk-align-left uk-margin-remove"> Class Grade </span> <span class="uk-align-right uk-margin-remove uk-text-{{ courseGrade(course).className }}"> {{ courseGrade(course).grade }} </span> </li> </ul> </li> </ul> </div> </div> </div> </main> <div class="uk-width-1-1 uk-padding-small"> <button ng-if="coursesList.next_page_url" ng-click="next(coursesList.current_page + 1)" class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom">Load More <div uk-spinner ng-if="loading"></div></button> </div> </section>'),a.put("views/dashboard.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main class="uk-grid-small" uk-grid> <overview class="uk-width-1-1" ng-if="user.access_level.id >= 3"></overview> <instructor-courses list="true" user="user" heading="true" class="uk-width-1-3@m" ng-if="user.user_type.name === \'teacher\'"></instructor-courses> <my-courses list="true" user="user" heading="true" class="uk-width-1-3@m" ng-if="user.user_type.name === \'student\'"></my-courses> <tabs tabs="tabs" class="uk-width-1-1" ng-if="user.access_level.id >= 3"></tabs> </main> </section>'),a.put("views/inventory.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <div uk-grid> <div class="uk-width-1-1@s"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <p class="uk-text-capitalize uk-align-left title uk-margin-remove">Inventory</p> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="add()" uk-icon="icon: plus"></a></li> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-remove"> <table class="uk-table uk-table-hover uk-table-divider uk-table-middle"> <thead> <tr> <th class="uk-table-shrink"><input class="uk-checkbox" type="checkbox"></th> <th>sku</th> <th class="uk-table-expand">description</th> <th class="uk-width-small">quantity</th> <th class="uk-width-small">unit price (&#8358;)</th> <th class="uk-width-small">total (&#8358;)</th> <th class="uk-width-small"></th> </tr> </thead> <tbody> <tr ng-repeat="item in inventoryData"> <td><input class="uk-checkbox" type="checkbox"></td> <td class="uk-text-capitalize">{{ item.sku }}</td> <td class="uk-text-capitalize">{{ item.description }}</td> <td> <input class="uk-input uk-form-blank" type="number" placeholder="quantity" ng-model="item.quantity" ng-disabled="true"> </td> <td> <input class="uk-input uk-form-blank" type="number" placeholder="price" ng-model="item.price" ng-disabled="true"> </td> <td> <input class="uk-input uk-form-blank" type="number" placeholder="price" ng-value="item.quantity * item.price" ng-disabled="true"> </td> <td> <ul class="uk-iconnav"> <li><a href="#" uk-icon="icon: file-edit" title="edit"></a></li> <li><a href="#" uk-icon="icon: trash" title="delete"></a></li> </ul> </td> </tr> </tbody> </table> </div> </div> </div> </div> </section>'),a.put("views/learning.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <my-courses class="uk-width-1-2@m uk-width-1-4@s uk-width-1-1@xs" ng-show="dashboardSettings.myCourses.display"></my-courses> <activity-feed class="uk-width-1-4@s uk-width-1-1@xs" ng-show="dashboardSettings.activity.display"></activity-feed> </main> </section>'),a.put("views/login.html",'<section class="uk-cover-container uk-height-medium" uk-height-viewport> <img class="uk-hidden" src="https://burst.shopifycdn.com/photos/contact-flatlay_925x.jpg" alt="" uk-cover> <div class="uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle"> <div class="uk-card uk-card-default"> <div class="uk-card-header uk-text-center"> <span class="uk-text-bold">Login</span> </div> <form> <div class="uk-card-body"> <div class="uk-placeholder uk-text-center uk-text-danger uk-danger" ng-if="!loginLoading && loginError">{{ loginError }}</div> <span uk-spinner="ratio: 3" class="uk-width-1-1 uk-text-center" ng-if="loginLoading"></span> <div class="uk-margin" ng-show="!loginLoading"> <div class="uk-inline uk-width-1-1"> <span class="uk-form-icon" uk-icon="icon: user"></span> <input ng-class="loginError ? \'uk-form-danger\' : \'\'" class="uk-input uk-width-1-1" type="email" ng-model="email" name="email" required> </div> </div> <div class="uk-margin" ng-show="!loginLoading"> <div class="uk-inline uk-width-1-1"> <span class="uk-form-icon uk-form-icon" uk-icon="icon: lock"></span> <input ng-class="loginError ? \'uk-form-danger\' : \'\'" class="uk-input uk-width-1-1" type="password" ng-model="password" name="email" required> </div> </div> </div> <div class="uk-card-footer uk-padding-small"> <div class="uk-margin"> <button class="uk-button uk-button-primary uk-width-1-1" ng-click="signin({ email:this.email , password: this.password },$event)">Login </button> </div> <div class="uk-margin"> <span class="uk-text-small uk-text-muted">Not registered ? <a ng-href="/#!/register" class="">create an account</a></span> </div> </div> </form> </div> </div> </section>'),
a.put("views/main.html",'<section class="uk-height-viewport"> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <div class="uk-width-1-1"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ reports.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> </ul> </div> </div> <div class="uk-card-body"></div> </div> </div> <div class="uk-width-1-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ tasks.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list uk-list-divider"> <li ng-repeat="task in tasks.data" class="uk-clearfix"> <a class="uk-align-left uk-margin-remove">{{ task.name }}</a> <div class="uk-align-right"> <ul class="uk-iconnav"> <li ng-if="!task.completed"><a href="#" uk-icon="icon: minus-circle" class="uk-text-danger"></a></li> <li><a href="#" uk-icon="icon: check" ng-disabled="task.completed" ng-class="task.completed ? \'uk-text-success\' : \'\'"></a></li> </ul> </div> </li> </ul> </div> </div> </div> <div class="uk-width-3-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ employees.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list" uk-grid> <li class="uk-width-1-4@l uk-width-1-1@s" ng-repeat="employee in employees.data"> <article class="uk-comment uk-card uk-card-hover"> <header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{ employee.picture }}" width="60" height="60" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset" href="#">{{ employee.title }} {{ employee.fname }} {{ employee.lname }}</a></h4> <ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute"> </ul> </div> </header> <div class="uk-comment-footer"> </div> </article> </li> </ul> </div> <div class="uk-card-footer"> <ul class="uk-pagination"> <li><a href="#"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li class="uk-margin-auto-left"><a href="#">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul>  </div> </div> </div> <div class="uk-width-3-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ activities.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> </ul> </div> </div> <div class="uk-card-body"></div> </div> </div> <div class="uk-width-1-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ requests.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <table class="uk-table uk-table-middle uk-table-divider"> <thead> <tr class="uk-text-small"> <th class="uk-table-shrink"><input class="uk-checkbox" type="checkbox"></th> <th class="uk-width-small">Request</th> <th class="uk-table-shrink"></th> </tr> </thead> <tbody> <tr ng-repeat="req in requests.data" class="uk-text-small"> <td><input class="uk-checkbox" type="checkbox"></td> <td>{{ req.name }}</td> <td class="uk-clear-fix uk-text-right"> <ul class="uk-iconnav"> <li ng-if="req.approved"><a href="" uk-icon="icon: check" class="uk-text-success"></a></li> <li ng-if="!req.approved"><a href="" uk-icon="icon: ban" class="uk-text-danger"></a></li> <li><a href="" uk-icon="icon: pencil" class=""></a></li> </ul> </td> </tr> </tbody> </table> </div> </div> </div> </main> </section>'),a.put("views/partials/_breadcrumbs.html",'<section class="uk-navbar-container uk-dark" uk-navbar ng-controller="NavCtrl"> <ul class="uk-breadcrumb uk-margin"> <li><a href="#">Item</a></li> </ul> </section>'),a.put("views/partials/_navbar.html",'<nav class="uk-navbar-container uk-light" uk-navbar ng-controller="NavCtrl"> <a class="uk-navbar-item uk-logo uk-text-capitalize" href="#">{{ $root.user.tenant.name || \'nimbus learning\'}}</a> <div class="uk-navbar-right"> <div class="uk-navbar-item"> <ul class="uk-iconnav uk-clearfix"> <li ng-if="auth.isAuthenticated()"> <a ng-click="offcanvas(\'nav\').show()" uk-icon="icon:  more-vertical" data-target="#nav"></a> </li> </ul> </div> </div> </nav>'),a.put("views/partials/_toolbar.html",'<section id="toolbar" class="uk-navbar-container uk-dark" uk-navbar ng-controller="NavCtrl"> <a class="uk-navbar-item uk-logo uk-text-capitalize">{{ pageTitle || route.current.$$route.controllerAs }}</a> <div class="uk-navbar-right"> <div class="uk-navbar-item"> <ul class="uk-iconnav uk-clearfix"> <!--<li ng-if="route.current.$$route.controllerAs === \'dashboard\' || route.current.$$route.controllerAs === \'learning\'">\r\n					<a ng-if="route.current.$$route.controllerAs === \'dashboard\'" uk-icon="icon:  settings" ng-click="showSettings(\'dashboard\')"></a>\r\n					<a ng-if="route.current.$$route.controllerAs === \'learning\'" uk-icon="icon:  settings" ng-click="showSettings(\'learningDashboard\')"></a>\r\n				</li>--> <li ng-if="false"> <a ng-click="createCourse()" uk-icon="icon: plus" data-target="#create"></a> </li> <li ng-if="false"> <a ng-click="editCourse()" uk-icon="icon: file-edit" data-target="#create"></a> </li> <li ng-if="filter"> <search-filter filter="filter"></search-filter> </li> </ul> </div> </div> </section>'),a.put("views/profile.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <div class="uk-section uk-section"> <div class="uk-container uk-width-1-2@l uk-width-2-3@m uk-padding-remove"> <div class="uk-text-center"> <img class="uk-border-circle" width="140" height="140" src="{{ profileData.image || \'https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\' }}"> <p class="uk-text-lead uk-padding-bottom uk-text-capitalize">{{ profileData.firstname }} {{ profileData.lastname }}</p> </div> <ul class="uk-flex-center" uk-tab uk-switcher> <li ng-if="profileData.activities" class="uk-active"><a href="#"><span class="uk-margin-small-right" uk-icon="icon: commenting"></span> <span>Activity</span></a></li> <li ng-if="profileData.studentRecords"><a href="#"><span class="uk-margin-small-right" uk-icon="icon: list"></span> <span>Student Records</span></a></li> <li ng-if="profileData.employmentRecords"><a href="#"><span class="uk-margin-small-right" uk-icon="icon: list"></span> <span>Employment Records</span></a></li> </ul> <ul class="uk-switcher uk-margin"> <li ng-if="profileData.activities"> <div class=""> <ul class="uk-list"> <li class="uk-clear-fix" ng-repeat="activity in profileData.activities.data"> <article class="uk-comment"> <header class="uk-comment-header uk-grid-medium uk-flex-middle" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{	activity.user.image	|| \'https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\' }}" width="50" height="50" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove uk-text-small"><a class="uk-link-reset uk-text-capitalize" href="#">{{ profileData.fname}}</a> {{ activity.meta.action.verb }} <a ng-click="modal.modal({ type : \'full\' , title  : activity.meta.subject.name , body : activity.meta.subject.description , image : activity.meta.subject.featuredImage },this)">{{ activity.meta.subject.type }}</a></h4> <span class="uk-text-muted uk-text-small">12 days ago</span> </div> </header> <div class="uk-comment-body"> <div class="uk-card uk-card-default"> <div class="uk-card-media-top" ng-if="activity.meta.subject.featuredImage"> <img src="{{ activity.meta.subject.featuredImage }}" alt="{{ activity.meta.subject.name }}" class="uk-width-1-1"> </div> <div class="uk-card-header uk-padding-small"> <div class="uk-grid-small uk-flex-middle" uk-grid> <div class="uk-width-expand"> <p class="uk-text-capitalize uk-margin-remove-bottom">{{ activity.meta.subject.name }}</p> </div> </div> </div> <div class="uk-card-body uk-padding-small" ng-if="activity.meta.subject.description"> <p class="uk-text-small">{{ activity.meta.subject.description }}</p> </div> <div class="uk-card-footer uk-padding-small"> <ul class="uk-iconnav toolbar uk-padding-remove"> <li><a href="#" uk-icon="icon: heart"></a></li> <li><a href="#" uk-icon="icon: comment"></a></li> <li><a href="#" uk-icon="icon: forward"></a></li> </ul> </div> </div> </div> </article> </li> <button ng-if="profileData.activities.next_page_url" ng-click="next(profileData.activities.current_page + 1)" class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom">Load More</button> </ul> </div> </li> <li ng-if="profileData.studentRecords">Student Records</li> <li ng-if="profileData.employmentRecords">Employment Records</li> </ul> </div> </div>'),a.put("views/register.html",'<section class="uk-container uk-width-1-3@s uk-section"> <div class="uk-card uk-card-default"> <div class="uk-card-header"> <h3 class="uk-card-title uk-text-center">Register</h3> </div> <div class="uk-card-body uk-padding-small"> <form class="uk-form-horizontal uk-margin-remove"> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.name[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: world"></span> <input ng-class="errors.name[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="text" placeholder="Company Name" ng-model="registration.name"> </div> <label ng-if="errors.name[0]" class="uk-text-small uk-text-danger">{{ errors.name[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.username[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: user"></span> <input ng-class="errors.username[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="text" placeholder="Username" ng-model="registration.username"> </div> <label ng-if="errors.username[0]" class="uk-text-small uk-text-danger">{{ errors.username[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.password[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: lock"></span> <input ng-class="errors.password[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="password" placeholder="Password" ng-model="registration.password"> </div> <label ng-if="errors.password[0]" class="uk-text-small uk-text-danger">{{ errors.password[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.password[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: lock"></span> <input ng-class="errors.password[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="password" placeholder="Password" ng-model="registration.password2"> </div> <label ng-if="errors.password[0]" class="uk-text-small uk-text-danger">{{ errors.password[0] }}</label> </div> <p class="uk-heading-line uk-text-center uk-text-capitalize uk-text-small"><span class="ng-binding">Account Details</span></p> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.email[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: mail"></span> <input ng-class="errors.email[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="email" placeholder="Email" ng-model="registration.email"> </div> <label ng-if="errors.email[0]" class="uk-text-small uk-text-danger">{{ errors.email[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.meta.phone[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: phone"></span> <input ng-class="errors.meta.phone[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="tel" placeholder="Phone" ng-model="registration.meta.phone"> <label ng-if="errors.meta.phone[0]" class="uk-text-small uk-text-danger">{{ errors.meta.phone[0] }}</label> </div> </div> <div class="uk-margin"> <button class="uk-button uk-button-primary uk-width-1-1" ng-click="registerUser(registration)">Plans <div ng-if="loading" uk-spinner></div></button> </div> </form> </div> </div> <div class="uk-margin uk-text-center"> <span class="uk-text-small uk-text-muted">Already have an account? <a ng-href="/#!/login" class="">Login</a></span> </div> </section>'),a.put("views/settings.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <p>This is the settings view.</p> </main> </section>'),a.put("views/templates/activityFeed.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body"> <ul class="uk-list"> <li class="uk-clear-fix" ng-repeat="activity in activities"> <article class="uk-comment"> <header class="uk-comment-header uk-grid-medium uk-flex-middle" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{	activity.user.image	}}" width="50" height="50" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove uk-text-small"><a class="uk-link-reset" href="#">Anthony</a> {{ activity.meta.action.verb }} <a href="{{ activity.meta.subject.url }}">{{ activity.meta.subject.name }}</a></h4> <span class="uk-text-muted uk-text-small">12 days ago</span> </div> </header> <div class="uk-comment-body"> <div class="uk-card uk-card-default"> <div class="uk-card-media-top"> <img src="{{ activity.meta.subject.featuredImage }}" alt="" class="uk-width-1-1"> <div class="uk-overlay uk-overlay-primary uk-position-bottom uk-light"> <h3>{{ activity.meta.subject.name }}</h3> <p>{{ activity.meta.subject.description }}</p> <ul class="uk-iconnav toolbar uk-padding-remove"> <li><a href="#" uk-icon="icon: heart"></a></li> <li><a href="#" uk-icon="icon: comment"></a></li> <li><a href="#" uk-icon="icon: forward"></a></li> </ul> </div> </div> </div> </div> </article> </li> </ul> </div> </div>'),a.put("views/templates/courses.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <p class="uk-text-capitalize uk-align-left title">{{ widgetTitle }}</p> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-small"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list" uk-grid> <li class="uk-width-1-2@l uk-width-1-1@s" ng-repeat="course in course.data"> </li> </ul> </div> <div class="uk-card-footer"> <ul class="uk-pagination"> <li><a href="#"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li class="uk-margin-auto-left"><a href="#">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div> '),a.put("views/templates/employees.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list" uk-grid> <li class="uk-width-1-2@l uk-width-1-1@s" ng-repeat="employee in employees.data"> <article class="uk-comment uk-card uk-card-hover"> <header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{ employee.picture }}" width="60" height="60" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset" href="#">{{ employee.title }} {{ employee.fname }} {{ employee.lname }}</a></h4> <ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute"> </ul> </div> </header> <div class="uk-comment-footer"> </div> </article> </li> </ul> </div> <div class="uk-card-footer"> <ul class="uk-pagination"> <li><a href="#"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li class="uk-margin-auto-left"><a href="#">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div> '),a.put("views/templates/myCourses.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <div class="uk-align-left uk-margin-remove uk-width-1-2"> <user-pill fname="{{user.firstname}}"></user-pill> </div> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-text-center"> <div uk-spinner ng-if="loading"></div> <div ng-if="!loading"> <p class="uk-heading-line uk-text-center uk-text-capitalize uk-hidden"><span>{{ user.firstname }} {{ user.lastname }}</span></p> <ul class="uk-list uk-margin-remove uk-list-divider"> <li class="uk-clear-fix" ng-repeat="course in coursesData.data"> <span ng-if="user.user_type.name ===\'teacher\' && user.id === course.instructor.id" class="uk-align-left uk-margin-remove uk-text-capitalize"><a ng-href="#!/learning/course/{{ course.course.id }}">{{ course.course.name }}</a></span> <span ng-if="user.user_type.name == \'student\'" class="uk-align-left uk-margin-remove uk-text-capitalize">{{ course.course.name }}</span> <span ng-if="getTotal(course)" class="uk-align-right uk-margin-remove uk-text-{{getGrade(course).className}}">{{ getTotal(course) }}</span> </li> </ul> </div> <div ng-if="error && !loading" class="uk-placeholder uk-text-center uk-danger uk-text-danger uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ error }} </div> <div ng-if="!coursesData.data && !loading && !error" class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ \'no courses found\' | uppercase }} </div> </div> </div>'),a.put("views/templates/reports.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title uk-text-capitalize">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> </ul> </div> </div> <div class="uk-card-body"></div> </div>'),a.put("views/templates/requests.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="showAddRequest()" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-remove"> <div class="uk-margin uk-hidden"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <table class="uk-table uk-table-middle uk-table-divider uk-margin-remove uk-table-small"> <thead> <tr class="uk-text-small"> <th class="uk-table-shrink uk-hidden"><input class="uk-checkbox" type="checkbox" ng-click="selectAll(requests,$event)"></th> <th class="uk-width-expand">Description</th> <th class="uk-table-shrink"> <ul class="uk-iconnav uk-hidden"> <li ng-if="req.approved"><a href="" uk-icon="icon: check" class="uk-text-success" ng-click="completeSelected(selected)"></a></li> <li ng-if="!req.approved"><a href="" uk-icon="icon: trash" class="uk-text-danger" ng-click="removeSelected(selected)"></a></li> </ul> </th> </tr> </thead> <tbody> <tr ng-repeat="req in requests" class="uk-text-small"> <td class="uk-hidden"><input class="uk-checkbox" type="checkbox" ng-model="req.selected" ng-click="selectRequest($index,$event)">{{ selected }}</td> <td><a ng-click="showAddRequest(req)">{{ req.name }}</a></td> <td class="uk-clear-fix uk-text-right"> <ul class="uk-iconnav"> <li ng-if="req.approved"><a href="" uk-icon="icon: check" class="uk-text-success" ng-click="completeRequest($index)"></a></li> <li ng-if="!req.approved"><a href="" uk-icon="icon: trash" class="uk-text-danger" ng-click="removeRequest($index)"></a></li> </ul> </td> </tr> </tbody> </table> </div> </div>'),a.put("views/templates/tasks.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="showAddTask()" uk-icon="icon: plus"></a></li> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-remove"> <div class="uk-margin" ng-if="false"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input type="text" datasets="tasksDataset" options="tasksOptions" ng-model="search" editable="editable" sf-typeahead class="uk-search-input uk-width-1-1 typeahead" placeholder="Search..."> </form> </div> <table class="uk-table uk-table-middle uk-table-divider uk-margin-remove uk-table-small"> <thead> <tr class="uk-text-small"> <th class="uk-table-shrink uk-hidden"><input class="uk-checkbox" type="checkbox" ng-click="selectAll(tasks,$event)"></th> <th class="uk-width-small">Description</th> <th class="uk-table-shrink"> <ul class="uk-iconnav uk-hidden"> <li ng-if="!task.completed"><a ng-click="removeSelected($index)" uk-icon="icon: trash" class="uk-text-danger"></a></li> <li><a ng-click="completeSelected($index)" uk-icon="icon: check" ng-disabled="task.completed" ng-class="task.completed ? \'uk-text-success\' : \'\'"></a></li> </ul> </th> </tr> </thead> <div uk-spinner ng-if="loading"></div> <tbody ng-if="!loading"> <tr ng-repeat="task in data.data" class="uk-text-small"> <td class="uk-hidden"><input class="uk-checkbox" type="checkbox" ng-model="task.selected"></td> <td><a class="uk-align-left uk-margin-remove" ng-click="showAddTask(task)">{{ task.name }}</a></td> <td class="uk-clear-fix uk-text-right"> <ul class="uk-iconnav"> <li ng-if="!task.completed"><a ng-click="removeTask($index)" uk-icon="icon: trash" class="uk-text-danger"></a></li> <li><a ng-click="completeTask($index)" uk-icon="icon: check" ng-disabled="task.completed" ng-class="task.completed ? \'uk-text-success\' : \'\'"></a></li> </ul> </td> </tr> </tbody> </table> </div> <div class="uk-card-footer" ng-if="data.prev_page_url || data.next_page_url"> <ul class="uk-pagination"> <li ng-if="data.prev_page_url"><a ng-click="prev(data.current_page - 1)"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li ng-if="data.next_page_url" class="uk-margin-auto-left"><a ng-click="next(data.current_page + 1)">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div>'),a.put("views/templates/users.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <p class="uk-text-capitalize uk-align-left title">{{ widgetTitle }}</p> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input type="text" datasets="userDataset" options="userOptions" ng-model="search" sf-typeahead class="uk-search-input uk-width-1-1 typeahead" placeholder="Search..."> </form> </div> <div class="uk-text-center" uk-spinner ng-if="loading"></div> <ul class="uk-list" uk-grid ng-if="!loading"> <li class="uk-width-1-2@l uk-width-1-1@s" ng-repeat="user in data.data"> <article class="uk-comment uk-card"> <header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar uk-preserve-width uk-border-circle" src="{{ user.image_url }}" width="60" height="60" alt=""> </div> <div class="uk-width-expand"> <p class="uk-margin-remove"> <a class="uk-link-reset uk-text-capitalize" ng-href="#!/profile/{{ user.id }}"> {{ user.title }} {{ user.fname }} {{ user.lname }} </a> </p> <ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute"> <li class="uk-text-capitalize">{{ user.meta.user_type }}</li> <li class="uk-text-capitalize">{{ user.meta.business_unit }}</li> </ul> </div> </header> <div class="uk-comment-footer"> </div> </article> </li> </ul> </div> <div class="uk-card-footer" ng-if="data.prev_page_url || data.next_page_url"> <ul class="uk-pagination"> <li ng-if="data.prev_page_url"><a ng-click="prev(data.current_page - 1)"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li ng-if="data.next_page_url" class="uk-margin-auto-left"><a ng-click="next(data.current_page + 1)">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div> '),a.put("views/tools.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main> <import class="uk-width-1-1"></import> </main> </section>'),a.put("views/users.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section> <div class="uk-overflow-auto"> <table class="uk-table uk-table-hover uk-table-middle uk-table-divider uk-padding-small"> <thead> <tr> <th class="uk-table-expand">name</th> <th class="uk-width-small">type</th> <th class="uk-width-small">status</th> <th class="uk-width-small"></th> </tr> </thead> <tbody> <tr ng-repeat="user in usersList"> <td class="uk-table-link"> <a class="uk-link-reset uk-text-capitalize" ng-click="view(user)"> <user-pill user="user" name="true"><user-pill> </user-pill></user-pill></a> </td> <td class="uk-table-link"> <a class="uk-link-reset uk-text-capitalize"><span class="uk-text-small uk-text-muted">{{ user.user_type.name }}</span></a> </td> <td class="uk-table-link"> <a class="uk-link-reset uk-text-capitalize"><span class="uk-text-small uk-text-muted">{{ user.account_status.name }}</span></a> </td> <td> <ul class="uk-iconnav" ng-if="false"> <li><a ng-click="edit(user)" uk-icon="icon: file-edit" title="edit"></a></li> </ul> </td> </tr> </tbody> </table> <div class="uk-width-1-1 uk-padding-small"> <button ng-if="usersData.next_page_url" ng-click="next(usersData.current_page + 1)" class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom">Load More <div uk-spinner ng-if="loading"></div></button> </div> </div> </section>')}]);